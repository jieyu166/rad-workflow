<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cephalometric Analysis äº’å‹•å­¸ç¿’å·¥å…·</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg-primary: #0a0e1a;
  --bg-secondary: #111827;
  --bg-card: #1a2236;
  --bg-card-hover: #1f2a42;
  --accent-cyan: #22d3ee;
  --accent-blue: #3b82f6;
  --accent-purple: #a78bfa;
  --accent-green: #34d399;
  --accent-yellow: #fbbf24;
  --accent-red: #f87171;
  --accent-orange: #fb923c;
  --accent-pink: #f472b6;
  --text-primary: #e2e8f0;
  --text-secondary: #94a3b8;
  --text-muted: #64748b;
  --border: #2d3a52;
  --glow-cyan: rgba(34, 211, 238, 0.15);
  --glow-blue: rgba(59, 130, 246, 0.15);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Noto Sans TC', sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  min-height: 100vh;
  overflow-x: hidden;
}

/* Animated background */
body::before {
  content: '';
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: 
    radial-gradient(ellipse at 20% 50%, rgba(34,211,238,0.04) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 20%, rgba(59,130,246,0.04) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 80%, rgba(167,139,250,0.03) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

.app { position: relative; z-index: 1; }

/* Header */
.header {
  padding: 2rem 2rem 1rem;
  text-align: center;
  border-bottom: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(34,211,238,0.03) 0%, transparent 100%);
}

.header h1 {
  font-size: 2.2rem;
  font-weight: 900;
  background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue), var(--accent-purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: 0.02em;
  margin-bottom: 0.3rem;
}

.header .subtitle {
  color: var(--text-secondary);
  font-size: 0.95rem;
  font-weight: 300;
}

/* Navigation */
.nav {
  display: flex;
  gap: 0;
  padding: 0 1rem;
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border);
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.nav-btn {
  padding: 0.85rem 1.3rem;
  background: none;
  border: none;
  color: var(--text-muted);
  font-family: inherit;
  font-size: 0.88rem;
  font-weight: 500;
  cursor: pointer;
  white-space: nowrap;
  border-bottom: 2px solid transparent;
  transition: all 0.25s;
}

.nav-btn:hover { color: var(--text-secondary); }
.nav-btn.active {
  color: var(--accent-cyan);
  border-bottom-color: var(--accent-cyan);
  background: var(--glow-cyan);
}

/* Sections */
.section { display: none; padding: 1.5rem; max-width: 1400px; margin: 0 auto; }
.section.active { display: block; }

/* Cards */
.card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.2rem;
  transition: border-color 0.3s;
}

.card:hover { border-color: rgba(34,211,238,0.3); }

.card-title {
  font-size: 1.15rem;
  font-weight: 700;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.badge {
  display: inline-block;
  padding: 0.15rem 0.6rem;
  border-radius: 20px;
  font-size: 0.72rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.badge-cyan { background: rgba(34,211,238,0.15); color: var(--accent-cyan); }
.badge-blue { background: rgba(59,130,246,0.15); color: var(--accent-blue); }
.badge-green { background: rgba(52,211,153,0.15); color: var(--accent-green); }
.badge-yellow { background: rgba(251,191,36,0.15); color: var(--accent-yellow); }
.badge-red { background: rgba(248,113,113,0.15); color: var(--accent-red); }
.badge-purple { background: rgba(167,139,250,0.15); color: var(--accent-purple); }

/* SVG Diagram */
.diagram-container {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 1rem;
  position: relative;
  overflow: hidden;
}

.diagram-container svg { width: 100%; height: auto; }

.landmark-dot {
  cursor: pointer;
  transition: all 0.2s;
}

.landmark-dot:hover { filter: brightness(1.4) drop-shadow(0 0 6px currentColor); }

.tooltip-box {
  position: absolute;
  background: var(--bg-secondary);
  border: 1px solid var(--accent-cyan);
  border-radius: 8px;
  padding: 0.8rem 1rem;
  font-size: 0.85rem;
  max-width: 300px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.5);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s;
  z-index: 100;
}

.tooltip-box.visible { opacity: 1; }
.tooltip-box .tt-name { font-weight: 700; color: var(--accent-cyan); margin-bottom: 0.3rem; }
.tooltip-box .tt-desc { color: var(--text-secondary); line-height: 1.5; }

/* Tables */
.data-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.88rem;
}

.data-table thead th {
  background: rgba(34,211,238,0.08);
  padding: 0.7rem 0.8rem;
  text-align: left;
  font-weight: 600;
  color: var(--accent-cyan);
  border-bottom: 2px solid var(--border);
  white-space: nowrap;
}

.data-table tbody td {
  padding: 0.6rem 0.8rem;
  border-bottom: 1px solid rgba(45,58,82,0.5);
  vertical-align: top;
}

.data-table tbody tr:hover { background: rgba(34,211,238,0.04); }

.data-table .mono {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.82rem;
  color: var(--accent-yellow);
}

/* Report Generator */
.report-section { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }

@media (max-width: 900px) {
  .report-section { grid-template-columns: 1fr; }
}

.input-group {
  margin-bottom: 0.8rem;
}

.input-group label {
  display: block;
  font-size: 0.8rem;
  color: var(--text-secondary);
  margin-bottom: 0.3rem;
  font-weight: 500;
}

.input-group input, .input-group select {
  width: 100%;
  padding: 0.55rem 0.8rem;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text-primary);
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.85rem;
  transition: border-color 0.2s;
}

.input-group input:focus, .input-group select:focus {
  outline: none;
  border-color: var(--accent-cyan);
  box-shadow: 0 0 0 2px var(--glow-cyan);
}

.input-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.8rem;
}

.input-row-3 {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 0.8rem;
}

.btn {
  padding: 0.65rem 1.5rem;
  border: none;
  border-radius: 8px;
  font-family: inherit;
  font-size: 0.88rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.25s;
}

.btn-primary {
  background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));
  color: #000;
}

.btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 20px rgba(34,211,238,0.3);
}

.btn-secondary {
  background: var(--bg-card);
  border: 1px solid var(--border);
  color: var(--text-primary);
}

.btn-secondary:hover { border-color: var(--accent-cyan); }

.btn-sm { padding: 0.4rem 1rem; font-size: 0.82rem; }

/* Report Output */
.report-output {
  background: #0d1117;
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 1.2rem;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.82rem;
  line-height: 1.7;
  white-space: pre-wrap;
  word-wrap: break-word;
  color: var(--text-secondary);
  min-height: 400px;
  max-height: 600px;
  overflow-y: auto;
}

.report-output .highlight { color: var(--accent-cyan); }
.report-output .abnormal { color: var(--accent-red); font-weight: 600; }
.report-output .normal-val { color: var(--accent-green); }

/* Analysis Steps */
.step {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
  padding: 1.2rem;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s;
}

.step:hover { border-color: rgba(34,211,238,0.3); transform: translateX(4px); }

.step-number {
  width: 40px;
  height: 40px;
  min-width: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1.1rem;
  background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));
  color: #000;
}

.step-content h3 {
  font-size: 1rem;
  font-weight: 700;
  margin-bottom: 0.4rem;
}

.step-content p {
  font-size: 0.88rem;
  color: var(--text-secondary);
  line-height: 1.6;
}

.step-detail {
  display: none;
  margin-top: 0.8rem;
  padding-top: 0.8rem;
  border-top: 1px solid var(--border);
}

.step.expanded .step-detail { display: block; }

.key-point {
  padding: 0.5rem 0.8rem;
  background: rgba(34,211,238,0.05);
  border-left: 3px solid var(--accent-cyan);
  margin: 0.5rem 0;
  font-size: 0.85rem;
  color: var(--text-secondary);
  line-height: 1.5;
}

/* Quiz Section */
.quiz-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.2rem;
}

.quiz-question {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 1rem;
  line-height: 1.5;
}

.quiz-options { display: flex; flex-direction: column; gap: 0.5rem; }

.quiz-option {
  padding: 0.7rem 1rem;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 0.9rem;
}

.quiz-option:hover { border-color: var(--accent-cyan); background: rgba(34,211,238,0.05); }
.quiz-option.correct { border-color: var(--accent-green); background: rgba(52,211,153,0.1); color: var(--accent-green); }
.quiz-option.wrong { border-color: var(--accent-red); background: rgba(248,113,113,0.1); color: var(--accent-red); }
.quiz-option.disabled { pointer-events: none; }

.quiz-explanation {
  margin-top: 0.8rem;
  padding: 0.8rem;
  border-radius: 8px;
  font-size: 0.85rem;
  line-height: 1.6;
  display: none;
}

.quiz-explanation.show { display: block; }
.quiz-explanation.correct-exp { background: rgba(52,211,153,0.08); border: 1px solid rgba(52,211,153,0.2); }
.quiz-explanation.wrong-exp { background: rgba(248,113,113,0.08); border: 1px solid rgba(248,113,113,0.2); }

.score-display {
  text-align: center;
  padding: 1rem;
  background: var(--bg-card);
  border-radius: 12px;
  border: 1px solid var(--border);
  margin-bottom: 1.2rem;
}

.score-number {
  font-size: 2.5rem;
  font-weight: 900;
  background: linear-gradient(135deg, var(--accent-cyan), var(--accent-green));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Value indicator */
.val-indicator {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  font-family: 'JetBrains Mono', monospace;
}

.val-normal { background: rgba(52,211,153,0.12); color: var(--accent-green); }
.val-high { background: rgba(248,113,113,0.12); color: var(--accent-red); }
.val-low { background: rgba(59,130,246,0.12); color: var(--accent-blue); }

/* Interpretation panel */
.interp-panel {
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 1rem;
  margin-top: 0.8rem;
}

.interp-panel h4 {
  color: var(--accent-purple);
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
}

.interp-panel p {
  font-size: 0.85rem;
  color: var(--text-secondary);
  line-height: 1.6;
}

/* Grid layouts */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 1.2rem; }
.grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; }

@media (max-width: 768px) {
  .grid-2, .grid-3 { grid-template-columns: 1fr; }
  .report-section { grid-template-columns: 1fr; }
  .header h1 { font-size: 1.6rem; }
  .input-row, .input-row-3 { grid-template-columns: 1fr; }
}

/* Scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--bg-primary); }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-muted); }

/* Copy button */
.copy-btn {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  padding: 0.35rem 0.7rem;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text-secondary);
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.2s;
}

.copy-btn:hover { border-color: var(--accent-cyan); color: var(--accent-cyan); }

.report-wrapper { position: relative; }

/* Floating info tags */
.info-tag {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  background: rgba(59,130,246,0.1);
  border: 1px solid rgba(59,130,246,0.2);
  border-radius: 4px;
  font-size: 0.78rem;
  color: var(--accent-blue);
  margin: 0.2rem;
}

/* Tabs inside card */
.inner-tabs {
  display: flex;
  gap: 0;
  margin-bottom: 1rem;
  border-bottom: 1px solid var(--border);
}

.inner-tab {
  padding: 0.5rem 1rem;
  background: none;
  border: none;
  color: var(--text-muted);
  font-family: inherit;
  font-size: 0.82rem;
  font-weight: 500;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s;
}

.inner-tab.active { color: var(--accent-cyan); border-bottom-color: var(--accent-cyan); }
.inner-content { display: none; }
.inner-content.active { display: block; }

.fade-in {
  animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>
<div class="app">
  <div class="header">
    <h1>ğŸ“ Cephalometric Analysis</h1>
    <p class="subtitle">æ”¾å°„ç§‘ä½é™¢é†«å¸«äº’å‹•å­¸ç¿’å·¥å…· â€” Lateral Cephalometric Radiograph å ±å‘Šæ’°å¯«æŒ‡å—</p>
  </div>

  <nav class="nav">
    <button class="nav-btn active" onclick="showSection('overview')">ğŸ“– æ¦‚è¿°</button>
    <button class="nav-btn" onclick="showSection('landmarks')">ğŸ“ æ¨™è¨˜é»</button>
    <button class="nav-btn" onclick="showSection('measurements')">ğŸ“ æ¸¬é‡å€¼</button>
    <button class="nav-btn" onclick="showSection('steps')">ğŸ”¬ åˆ†ææ­¥é©Ÿ</button>
    <button class="nav-btn" onclick="showSection('report')">ğŸ“ å ±å‘Šç”¢ç”Ÿå™¨</button>
    <button class="nav-btn" onclick="showSection('quiz')">ğŸ§  æ¸¬é©—ç·´ç¿’</button>
  </nav>

  <!-- ===== OVERVIEW ===== -->
  <div id="overview" class="section active fade-in">
    <div class="card">
      <div class="card-title">ğŸ¯ ä»€éº¼æ˜¯ Cephalometric Analysisï¼Ÿ</div>
      <p style="color:var(--text-secondary);line-height:1.8;font-size:0.92rem;">
        å´é¢é ­é¡±æ”¾å°„ç·šæ”å½± (Lateral Cephalometric Radiograph, LCR) æ˜¯ä¸€ç¨®æ¨™æº–åŒ–ã€å¯é‡è¤‡çš„é ­éƒ¨å´é¢Xå…‰æ”å½±ï¼Œä¸»è¦ç”¨æ–¼<strong style="color:var(--accent-cyan)">é½’é¡çŸ¯æ­£è¨ºæ–·èˆ‡æ²»ç™‚è¨ˆç•«</strong>ã€‚æ”å½±æ™‚ï¼ŒXå…‰ç®¡çƒè·é›¢æ‚£è€… 1.5 å…¬å°ºï¼Œç‰‡åŒ£è·é›¢æ‚£è€…é ­éƒ¨ç´„ 15 å…¬åˆ†ï¼Œé æœŸæœ‰ç´„ 8% çš„æ”¾å¤§ç‡ã€‚æ‚£è€…è¢«å›ºå®šåœ¨ cephalostat ä¸Šï¼Œå…©å´è€³æ¡¿æ’å…¥å¤–è€³é“ï¼ŒFrankfort plane æ°´å¹³å°é½Šï¼Œç‰™é½’å’¬åœ¨æœ€å¤§å’¬åˆä½ (centric occlusion)ã€‚
      </p>
    </div>

    <div class="grid-2">
      <div class="card">
        <div class="card-title"><span class="badge badge-cyan">è‡¨åºŠ</span> ä¸»è¦ç”¨é€”</div>
        <div style="color:var(--text-secondary);line-height:1.8;font-size:0.88rem;">
          <p>â€¢ é½’é¡çŸ¯æ­£çš„è¨ºæ–·èˆ‡æ²»ç™‚è¨ˆç•«æ“¬å®š</p>
          <p>â€¢ æ­£é¡æ‰‹è¡“ (Orthognathic surgery) è©•ä¼°</p>
          <p>â€¢ åˆ¤æ–·å’¬åˆä¸æ­£ (malocclusion) çš„ç—…å›  â€” éª¨éª¼æ€§ã€é½’æ€§æˆ–å…©è€…çš†æœ‰</p>
          <p>â€¢ æ²»ç™‚å‰å¾Œçš„æ¯”è¼ƒèˆ‡è¿½è¹¤</p>
          <p>â€¢ æ°£é“è©•ä¼°ï¼ˆå¦‚ OSA ç›¸é—œè©•ä¼°ï¼‰</p>
          <p>â€¢ ç”Ÿé•·ç™¼è‚²çš„ç ”ç©¶</p>
        </div>
      </div>
      <div class="card">
        <div class="card-title"><span class="badge badge-yellow">é‡é»</span> æ”¾å°„ç§‘é†«å¸«çš„è§’è‰²</div>
        <div style="color:var(--text-secondary);line-height:1.8;font-size:0.88rem;">
          <p>â€¢ <strong style="color:var(--accent-yellow)">é¦–å…ˆæª¢æŸ¥ç—…ç†ï¼</strong>â€” åœ¨åš tracing ä¹‹å‰ï¼Œå‹™å¿…å…ˆæª¢æŸ¥æ˜¯å¦æœ‰æ„å¤–ç™¼ç¾çš„ç—…è®Š</p>
          <p>â€¢ ç¢ºèªå½±åƒå“è³ªï¼šé ­éƒ¨ä½ç½®ã€Frankfort plane æ˜¯å¦æ°´å¹³</p>
          <p>â€¢ ç³»çµ±æ€§æè¿°éª¨éª¼èˆ‡é½’æ€§çš„å‰å¾Œå‘ã€å‚ç›´å‘é—œä¿‚</p>
          <p>â€¢ æä¾›å„è§’åº¦/è·é›¢çš„æ¸¬é‡å€¼èˆ‡æ­£å¸¸å€¼æ¯”è¼ƒ</p>
          <p>â€¢ è»Ÿçµ„ç¹”è¼ªå»“åˆ†æ</p>
          <p>â€¢ æ°£é“é€šæš¢åº¦è©•ä¼°</p>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-title"><span class="badge badge-green">åˆ†ææ–¹æ³•</span> å¸¸è¦‹çš„ Cephalometric Analysis ç³»çµ±</div>
      <div class="grid-3" style="margin-top:0.5rem;">
        <div style="padding:0.8rem;background:var(--bg-secondary);border-radius:8px;">
          <div style="font-weight:700;color:var(--accent-cyan);margin-bottom:0.3rem;">Steiner Analysis (1953)</div>
          <div style="font-size:0.82rem;color:var(--text-secondary);">ä»¥ SN plane ç‚ºåƒè€ƒç·šï¼ŒåŒ…å« SNAã€SNBã€ANB ç­‰ï¼Œæ˜¯æœ€å¸¸ç”¨çš„åˆ†ææ³•ä¹‹ä¸€</div>
        </div>
        <div style="padding:0.8rem;background:var(--bg-secondary);border-radius:8px;">
          <div style="font-weight:700;color:var(--accent-blue);margin-bottom:0.3rem;">Downs Analysis (1948)</div>
          <div style="font-size:0.82rem;color:var(--text-secondary);">æœ€æ—©çš„ç³»çµ±åŒ–åˆ†ææ³•ï¼ŒåŸºæ–¼ 20 åæ­£å¸¸å’¬åˆçš„ç™½äººæ¨£æœ¬å»ºç«‹å¸¸æ¨¡</div>
        </div>
        <div style="padding:0.8rem;background:var(--bg-secondary);border-radius:8px;">
          <div style="font-weight:700;color:var(--accent-purple);margin-bottom:0.3rem;">Tweed Analysis (1954)</div>
          <div style="font-size:0.82rem;color:var(--text-secondary);">è‘—é‡ FMAã€IMPAã€FMIA ä¸‰å€‹è§’åº¦çš„ä¸‰è§’é—œä¿‚</div>
        </div>
        <div style="padding:0.8rem;background:var(--bg-secondary);border-radius:8px;">
          <div style="font-weight:700;color:var(--accent-green);margin-bottom:0.3rem;">McNamara Analysis (1983)</div>
          <div style="font-size:0.82rem;color:var(--text-secondary);">ä½¿ç”¨ Frankfort Horizontal å»ºç«‹å‚ç·šï¼Œè©•ä¼°ä¸Šä¸‹é¡éª¨çš„å‰å¾Œä½ç½®</div>
        </div>
        <div style="padding:0.8rem;background:var(--bg-secondary);border-radius:8px;">
          <div style="font-weight:700;color:var(--accent-orange);margin-bottom:0.3rem;">Ricketts Analysis (1979)</div>
          <div style="font-size:0.82rem;color:var(--text-secondary);">åŒ…å«åŸºæœ¬åˆ†æ 12 é …æ¸¬é‡ï¼Œç‰¹åˆ¥è‘—é‡ä¸‹é¡ä½ç½®èˆ‡ç”Ÿé•·æ–¹å‘</div>
        </div>
        <div style="padding:0.8rem;background:var(--bg-secondary);border-radius:8px;">
          <div style="font-weight:700;color:var(--accent-pink);margin-bottom:0.3rem;">Wits Analysis (1975)</div>
          <div style="font-size:0.82rem;color:var(--text-secondary);">æ”¹å–„ ANB è§’åº¦å— N é»ä½ç½®å½±éŸ¿çš„ç¼ºé»ï¼Œä½¿ç”¨å’¬åˆå¹³é¢åšç‚ºåƒè€ƒ</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== LANDMARKS ===== -->
  <div id="landmarks" class="section fade-in">
    <div class="grid-2">
      <div class="diagram-container" id="diagramContainer">
        <div class="tooltip-box" id="tooltip">
          <div class="tt-name" id="ttName"></div>
          <div class="tt-desc" id="ttDesc"></div>
        </div>
        <svg viewBox="0 0 520 660" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <filter id="glow">
              <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
              <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
          </defs>

          <!-- ============ CRANIAL VAULT (outer contour) ============ -->
          <!-- Occipital â†’ Parietal â†’ Frontal dome -->
          <path d="M95,235 Q80,200 82,160 Q85,120 105,85 Q130,50 175,32 Q220,18 275,15 Q330,15 375,35 Q410,50 430,80 Q445,105 445,140 Q445,165 435,185 L420,200"
                fill="none" stroke="rgba(100,180,255,0.35)" stroke-width="1.8"/>

          <!-- Frontal bone â†’ Glabella â†’ Nasion area -->
          <path d="M420,200 Q415,210 400,215 Q393,218 388,210 Q382,200 380,195"
                fill="none" stroke="rgba(100,180,255,0.35)" stroke-width="1.8"/>

          <!-- Nasal bone (N downward) -->
          <path d="M380,195 Q378,210 380,230 Q385,250 395,270"
                fill="none" stroke="rgba(100,180,255,0.3)" stroke-width="1.5"/>

          <!-- Nasal / Maxilla front profile -->
          <path d="M395,270 Q400,285 410,300 Q415,310 418,325 L415,335 Q408,342 400,345"
                fill="none" stroke="rgba(100,180,255,0.3)" stroke-width="1.5"/>

          <!-- Maxilla anterior surface (ANS â†’ A point â†’ alveolus) -->
          <path d="M400,345 Q395,355 393,365 Q390,375 395,390 Q398,400 400,410"
                fill="none" stroke="rgba(100,180,255,0.3)" stroke-width="1.5"/>

          <!-- Upper teeth -->
          <path d="M400,410 L395,430 M393,410 L388,428 M386,408 L382,425"
                fill="none" stroke="rgba(148,163,184,0.35)" stroke-width="1.8"/>

          <!-- Lower teeth -->
          <path d="M382,435 L386,418 M375,437 L380,420 M370,438 L375,422"
                fill="none" stroke="rgba(148,163,184,0.35)" stroke-width="1.8"/>

          <!-- Mandible: symphysis (B â†’ Pog â†’ Gn â†’ Me) -->
          <path d="M370,438 Q368,455 365,470 Q360,485 362,500 Q365,515 372,525 Q378,533 380,535 Q382,540 378,548 Q370,558 355,565 Q340,570 325,568"
                fill="none" stroke="rgba(100,180,255,0.35)" stroke-width="1.8"/>

          <!-- Mandible: body (Me â†’ Go) -->
          <path d="M325,568 Q290,565 255,555 Q220,542 185,520 Q155,500 132,478 Q118,462 112,445"
                fill="none" stroke="rgba(100,180,255,0.35)" stroke-width="1.8"/>

          <!-- Mandible: angle + ramus (Go â†’ Condyle) -->
          <path d="M112,445 Q108,425 112,405 Q118,380 130,355 Q142,330 155,310 Q165,296 172,285"
                fill="none" stroke="rgba(100,180,255,0.35)" stroke-width="1.8"/>

          <!-- Condyle -->
          <path d="M172,285 Q176,275 178,265 Q182,252 175,242 Q168,235 158,238 Q150,242 148,252 Q147,260 150,270"
                fill="none" stroke="rgba(100,180,255,0.3)" stroke-width="1.5"/>

          <!-- Skull base (posterior: Occipital â†’ Basion â†’ Sella area) -->
          <path d="M95,235 Q100,250 115,265 Q130,275 148,275"
                fill="none" stroke="rgba(100,180,255,0.2)" stroke-width="1.2"/>

          <!-- Skull base (Sella area â†’ mid-cranial base) -->
          <path d="M175,242 Q190,228 210,222 Q230,218 250,222 Q270,228 285,240"
                fill="none" stroke="rgba(100,180,255,0.2)" stroke-width="1.2"/>

          <!-- Sella turcica (pituitary fossa) -->
          <path d="M210,222 Q215,235 225,240 Q235,242 245,238 Q250,232 250,222"
                fill="none" stroke="rgba(100,180,255,0.4)" stroke-width="1.5"/>

          <!-- Orbit outline -->
          <ellipse cx="370" cy="250" rx="42" ry="35" fill="none" stroke="rgba(100,180,255,0.15)" stroke-width="1"/>

          <!-- Hard palate (PNS â†’ ANS) -->
          <path d="M235,355 Q280,350 320,348 Q360,346 400,345"
                fill="none" stroke="rgba(100,180,255,0.2)" stroke-width="1" stroke-dasharray="3,3"/>

          <!-- Pterygoid plate / posterior maxilla -->
          <path d="M235,355 Q230,370 228,385 Q226,400 230,415"
                fill="none" stroke="rgba(100,180,255,0.15)" stroke-width="1"/>

          <!-- Coronoid process -->
          <path d="M172,285 Q195,290 215,310 Q225,325 230,345"
                fill="none" stroke="rgba(100,180,255,0.15)" stroke-width="1"/>

          <!-- Soft tissue profile (outer) -->
          <path d="M420,200 Q435,200 445,210 Q455,225 458,245 Q460,260 455,275 Q450,290 440,305 Q435,315 432,325 Q430,335 425,345 Q420,360 420,375 Q422,390 425,400 Q428,408 430,415 Q432,425 428,440 Q422,455 418,465 Q415,475 412,485 Q410,495 405,510 Q400,522 395,535 Q388,548 378,560 Q365,572 348,578 Q330,582 315,578"
                fill="none" stroke="rgba(148,163,184,0.15)" stroke-width="1" stroke-dasharray="4,3"/>

          <!-- ============ REFERENCE LINES ============ -->
          <!-- SN line (dashed) -->
          <line x1="228" y1="230" x2="380" y2="195" stroke="rgba(34,211,238,0.2)" stroke-width="1" stroke-dasharray="5,4"/>
          <!-- FH plane (dashed) -->
          <line x1="88" y1="270" x2="410" y2="270" stroke="rgba(251,191,36,0.18)" stroke-width="1" stroke-dasharray="5,4"/>
          <!-- Maxillary plane (dashed) -->
          <line x1="235" y1="355" x2="400" y2="345" stroke="rgba(52,211,153,0.15)" stroke-width="1" stroke-dasharray="4,4"/>
          <!-- Mandibular plane (dashed) -->
          <line x1="112" y1="445" x2="325" y2="568" stroke="rgba(167,139,250,0.15)" stroke-width="1" stroke-dasharray="4,4"/>

          <!-- ============ LANDMARK POINTS ============ -->
          <!-- Cranial base landmarks (cyan) -->
          <circle class="landmark-dot" cx="228" cy="230" r="6" fill="#22d3ee" data-name="Sella (S)" data-desc="è¶éä¸­å¿ƒé» (midpoint of sella turcica / pituitary fossa)ã€‚æ˜¯ SN line çš„èµ·é»ï¼Œç‚ºé¡±åº•çš„é‡è¦åƒè€ƒé»ã€‚ä½æ–¼è¶éçš„å¹¾ä½•ä¸­å¿ƒã€‚"/>

          <circle class="landmark-dot" cx="380" cy="195" r="6" fill="#22d3ee" data-name="Nasion (N)" data-desc="é¡é¼»ç¸« (frontonasal suture) çš„æœ€å‰æ–¹é»ã€‚SN line çš„çµ‚é»ï¼Œæ˜¯è¨±å¤šè§’åº¦æ¸¬é‡çš„åŸºæº–é»ã€‚N é»çš„ä½ç½®å¯èƒ½å› ç”Ÿé•·è€Œæ”¹è®Šï¼Œå½±éŸ¿ SNAã€SNBã€ANB ç­‰æ•¸å€¼ã€‚"/>

          <!-- Frankfort plane landmarks (yellow) -->
          <circle class="landmark-dot" cx="88" cy="270" r="6" fill="#fbbf24" data-name="Porion (Po)" data-desc="å¤–è€³é“ä¸Šæ–¹ä¸­é» (upper midpoint of external auditory meatus)ã€‚æ§‹æˆ Frankfort Plane çš„å¾Œæ–¹åƒè€ƒé»ã€‚ä½æ–¼è€³æœµé™„è¿‘ï¼Œåœ¨å½±åƒä¸Šä½æ–¼æœ€å·¦å´ã€‚"/>

          <circle class="landmark-dot" cx="350" cy="270" r="6" fill="#fbbf24" data-name="Orbitale (Or)" data-desc="çœ¶ä¸‹ç·£æœ€å‰æœ€ä¸‹æ–¹çš„é» (most anterior-inferior point on infraorbital rim)ã€‚æ§‹æˆ Frankfort Plane çš„å‰æ–¹åƒè€ƒé»ã€‚ä½æ–¼çœ¼çœ¶çš„ä¸‹æ–¹ã€‚"/>

          <!-- Articulare / Condylion (orange) -->
          <circle class="landmark-dot" cx="160" cy="265" r="6" fill="#fb923c" data-name="Articulare (Ar)" data-desc="é¡±åº•ä¸‹æ–¹è¼ªå»“èˆ‡é«çª (condyle) å¾Œç·£çš„äº¤é»ã€‚ç”¨æ–¼è©•ä¼°ä¸‹é¡çš„æœ‰æ•ˆé•·åº¦ (Ar-Go, Ar-A, Ar-B)ã€‚è‹¥ Ar åç§»ï¼Œç›¸é—œçš„è·é›¢æ¸¬é‡ä¹Ÿéœ€ä¿®æ­£ã€‚"/>

          <circle class="landmark-dot" cx="170" cy="290" r="6" fill="#fb923c" data-name="Condylion (Co)" data-desc="é«çª (mandibular condyle) æœ€ä¸Šæ–¹çš„é»ã€‚McNamara åˆ†æä¸­ç”¨æ–¼æ¸¬é‡ä¸‹é¡æœ‰æ•ˆé•·åº¦ (Co-Gn)ã€‚"/>

          <!-- Maxillary landmarks (green/blue) -->
          <circle class="landmark-dot" cx="235" cy="355" r="6" fill="#34d399" data-name="PNS" data-desc="å¾Œé¼»æ£˜ (Posterior Nasal Spine) çš„å°–ç«¯ã€‚æ§‹æˆ Maxillary Plane (MxPl) çš„å¾Œæ–¹åƒè€ƒé»ã€‚ANS-PNS é€£ç·šå³ç‚ºä¸Šé¡å¹³é¢ã€‚"/>

          <circle class="landmark-dot" cx="400" cy="345" r="6" fill="#34d399" data-name="ANS" data-desc="å‰é¼»æ£˜ (Anterior Nasal Spine) çš„å°–ç«¯ã€‚æ§‹æˆ Maxillary Plane (MxPl) çš„å‰æ–¹åƒè€ƒé»ã€‚ä½æ–¼é¼»è…”ä¸‹æ–¹çš„éª¨æ€§çªå‡ºã€‚"/>

          <circle class="landmark-dot" cx="393" cy="375" r="6" fill="#3b82f6" data-name="A Point (A)" data-desc="ä¸Šé¡ç‰™æ§½çªå‰é¢æœ€æ·±å‡¹é™·è™• (deepest concavity on anterior maxillary alveolus)ã€‚ä»£è¡¨ä¸Šé¡éª¨çš„å‰å¾Œä½ç½®ï¼Œä½æ–¼ ANS ä¸‹æ–¹ã€ä¸Šé¡ç‰™é½’ç‰™æ ¹å°–ä¹‹ä¸Šçš„å‡¹é™·è™•ã€‚"/>

          <!-- Mandibular landmarks -->
          <circle class="landmark-dot" cx="365" cy="470" r="6" fill="#3b82f6" data-name="B Point (B)" data-desc="ä¸‹é¡è¯åˆå‰é¢æœ€æ·±å‡¹é™·è™• (deepest concavity on anterior mandibular symphysis)ã€‚ä»£è¡¨ä¸‹é¡éª¨çš„å‰å¾Œä½ç½®ï¼Œä½æ–¼ä¸‹é¡ç‰™é½’ç‰™æ ¹å°–ä¹‹ä¸‹çš„å‡¹é™·è™•ã€‚"/>

          <circle class="landmark-dot" cx="112" cy="445" r="6" fill="#a78bfa" data-name="Gonion (Go)" data-desc="ä¸‹é¡è§’ (mandibular angle) æœ€å¾Œä¸‹æ–¹çš„é»ã€‚æ§‹æˆ Mandibular Plane çš„å¾Œæ–¹åƒè€ƒé»ã€‚ç‚ºä¸‹é¡å‡æ”¯å¾Œç·£èˆ‡ä¸‹é¡é«”ä¸‹ç·£åˆ‡ç·šçš„äº¤é»ã€‚"/>

          <circle class="landmark-dot" cx="380" cy="535" r="6" fill="#f472b6" data-name="Pogonion (Pog)" data-desc="ä¸‹é¡è¯åˆæœ€å‰æ–¹çš„é» (most anterior point on mandibular symphysis)ã€‚ç”¨æ–¼è©•ä¼°ä¸‹å·´çš„çªå‡ºç¨‹åº¦ (chin prominence)ã€‚"/>

          <circle class="landmark-dot" cx="365" cy="558" r="6" fill="#f472b6" data-name="Gnathion (Gn)" data-desc="ä¸‹é¡è¯åˆæœ€å‰æœ€ä¸‹æ–¹çš„é» (most anterior-inferior point on mandibular symphysis)ã€‚ä½æ–¼ Menton èˆ‡ Pogonion ä¹‹é–“ã€‚ç”¨æ–¼ facial axis (Ba-N to Pt-Gn) å’Œ McNamara ä¸‹é¡æœ‰æ•ˆé•·åº¦ (Co-Gn) æ¸¬é‡ã€‚"/>

          <circle class="landmark-dot" cx="325" cy="568" r="6" fill="#a78bfa" data-name="Menton (Me)" data-desc="ä¸‹é¡è¯åˆ (mandibular symphysis) çš„æœ€ä¸‹æ–¹é»ã€‚æ§‹æˆ Mandibular Plane (Go-Me) çš„å‰æ–¹åƒè€ƒé»ã€‚ä¹Ÿç”¨æ–¼è¨ˆç®—å‰é¢é«˜ (anterior facial height)ã€‚"/>

          <!-- ============ LABELS ============ -->
          <text x="215" y="222" text-anchor="end" fill="#22d3ee" font-size="12" font-weight="700">S</text>
          <text x="395" y="192" fill="#22d3ee" font-size="12" font-weight="700">N</text>
          <text x="68" y="274" text-anchor="end" fill="#fbbf24" font-size="12" font-weight="700">Po</text>
          <text x="365" y="266" fill="#fbbf24" font-size="12" font-weight="700">Or</text>
          <text x="140" y="262" text-anchor="end" fill="#fb923c" font-size="12" font-weight="700">Ar</text>
          <text x="150" y="296" text-anchor="end" fill="#fb923c" font-size="12" font-weight="700">Co</text>
          <text x="215" y="360" text-anchor="end" fill="#34d399" font-size="12" font-weight="700">PNS</text>
          <text x="415" y="342" fill="#34d399" font-size="12" font-weight="700">ANS</text>
          <text x="408" y="378" fill="#3b82f6" font-size="12" font-weight="700">A</text>
          <text x="378" y="466" fill="#3b82f6" font-size="12" font-weight="700">B</text>
          <text x="92" y="452" text-anchor="end" fill="#a78bfa" font-size="12" font-weight="700">Go</text>
          <text x="395" y="538" fill="#f472b6" font-size="12" font-weight="700">Pog</text>
          <text x="378" y="565" fill="#f472b6" font-size="12" font-weight="700">Gn</text>
          <text x="325" y="586" text-anchor="middle" fill="#a78bfa" font-size="12" font-weight="700">Me</text>

          <!-- Plane labels (small) -->
          <text x="305" y="205" fill="rgba(34,211,238,0.4)" font-size="9" font-style="italic">SN line</text>
          <text x="240" y="264" fill="rgba(251,191,36,0.4)" font-size="9" font-style="italic">Frankfort Plane</text>
          <text x="300" y="340" fill="rgba(52,211,153,0.35)" font-size="9" font-style="italic">Maxillary Plane</text>
          <text x="185" y="520" fill="rgba(167,139,250,0.35)" font-size="9" font-style="italic">Mandibular Plane</text>
        </svg>
      </div>

      <div>
        <div class="card">
          <div class="card-title">ğŸ“ Cephalometric Landmarks æ¨™è¨˜é»</div>
          <p style="color:var(--text-secondary);font-size:0.85rem;margin-bottom:1rem;">
            å°‡æ»‘é¼ ç§»åˆ°å·¦å´åœ–ä¸Šçš„é»å¯æŸ¥çœ‹è©³ç´°èªªæ˜ã€‚ä»¥ä¸‹ç‚ºå„æ¨™è¨˜é»çš„åˆ†é¡ç¸½è¦½ï¼š
          </p>
          
          <div style="margin-bottom:0.8rem;">
            <div style="font-weight:600;color:var(--accent-cyan);font-size:0.85rem;margin-bottom:0.4rem;">ğŸ”µ é¡±åº•åƒè€ƒé» Cranial Base</div>
            <div style="font-size:0.82rem;color:var(--text-secondary);line-height:1.7;">
              <strong>Sella (S)</strong> â€” è¶éä¸­å¿ƒé»<br>
              <strong>Nasion (N)</strong> â€” é¡é¼»ç¸«æœ€å‰æ–¹é»<br>
              <strong>Articulare (Ar)</strong> â€” é¡±åº•èˆ‡é«çªå¾Œç·£äº¤é»
            </div>
          </div>

          <div style="margin-bottom:0.8rem;">
            <div style="font-weight:600;color:var(--accent-yellow);font-size:0.85rem;margin-bottom:0.4rem;">ğŸŸ¡ Frankfort Plane åƒè€ƒé»</div>
            <div style="font-size:0.82rem;color:var(--text-secondary);line-height:1.7;">
              <strong>Orbitale (Or)</strong> â€” çœ¶ä¸‹ç·£æœ€å‰ä¸‹æ–¹é»<br>
              <strong>Porion (Po)</strong> â€” å¤–è€³é“ä¸Šæ–¹ä¸­é»
            </div>
          </div>

          <div style="margin-bottom:0.8rem;">
            <div style="font-weight:600;color:var(--accent-blue);font-size:0.85rem;margin-bottom:0.4rem;">ğŸ”· ä¸Šä¸‹é¡éª¨åƒè€ƒé» Maxilla & Mandible</div>
            <div style="font-size:0.82rem;color:var(--text-secondary);line-height:1.7;">
              <strong>A Point</strong> â€” ä¸Šé¡å‰æ–¹æœ€æ·±å‡¹é™·<br>
              <strong>B Point</strong> â€” ä¸‹é¡å‰æ–¹æœ€æ·±å‡¹é™·<br>
              <strong>ANS / PNS</strong> â€” å‰/å¾Œé¼»æ£˜<br>
              <strong>Gonion (Go)</strong> â€” ä¸‹é¡è§’æœ€å¾Œä¸‹æ–¹é»<br>
              <strong>Menton (Me)</strong> â€” ä¸‹é¡æœ€ä¸‹æ–¹é»<br>
              <strong>Gnathion (Gn)</strong> â€” ä¸‹é¡æœ€å‰ä¸‹æ–¹é»<br>
              <strong>Pogonion (Pog)</strong> â€” ä¸‹é¡æœ€å‰æ–¹é»<br>
              <strong>Condylion (Co)</strong> â€” é«çªæœ€ä¸Šæ–¹é»
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-title">ğŸ“ ä¸»è¦ Cephalometric Planes</div>
          <div style="font-size:0.82rem;color:var(--text-secondary);line-height:1.8;">
            <strong style="color:var(--accent-cyan)">SN Line</strong> â€” Sella â†’ Nasionï¼Œå‰é¡±åº•åƒè€ƒç·š<br>
            <strong style="color:var(--accent-yellow)">Frankfort Plane (FH)</strong> â€” Porion â†’ Orbitaleï¼Œæ‡‰æ¥è¿‘æ°´å¹³<br>
            <strong style="color:var(--accent-green)">Maxillary Plane (MxPl)</strong> â€” ANS â†’ PNSï¼Œä¸Šé¡å¹³é¢<br>
            <strong style="color:var(--accent-purple)">Mandibular Plane (MnPl)</strong> â€” Gonion â†’ Mentonï¼Œä¸‹é¡å¹³é¢<br>
            <strong style="color:var(--accent-pink)">Occlusal Plane</strong> â€” ä¸Šä¸‹å¾Œç‰™å’¬åˆé¢çš„é€£ç·š<br>
            <strong style="color:var(--accent-orange)">Facial Axis</strong> â€” Ba-N è‡³ Pt-Gnï¼Œä¸‹é¡ç”Ÿé•·æ–¹å‘
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== MEASUREMENTS ===== -->
  <div id="measurements" class="section fade-in">
    <div class="card">
      <div class="card-title">ğŸ“ ä¸»è¦ Cephalometric æ¸¬é‡å€¼èˆ‡æ­£å¸¸ç¯„åœ</div>
      <p style="color:var(--text-secondary);font-size:0.85rem;margin-bottom:1rem;">
        ä»¥ä¸‹æ•¸å€¼åŸºæ–¼ Eastman/Steiner æ¨™æº–ï¼ˆç™½äººæ—ç¾¤ï¼‰ï¼Œäºæ´²æ—ç¾¤çš„æ­£å¸¸å€¼å¯èƒ½ç•¥æœ‰å·®ç•°ã€‚é»æ“Šå„åˆ—å¯æŸ¥çœ‹è©³ç´°èªªæ˜ã€‚
      </p>
      
      <div class="inner-tabs">
        <button class="inner-tab active" onclick="showInnerTab(this, 'tab-sagittal')">å‰å¾Œå‘ Sagittal</button>
        <button class="inner-tab" onclick="showInnerTab(this, 'tab-vertical')">å‚ç›´å‘ Vertical</button>
        <button class="inner-tab" onclick="showInnerTab(this, 'tab-dental')">é½’æ€§ Dental</button>
        <button class="inner-tab" onclick="showInnerTab(this, 'tab-soft')">è»Ÿçµ„ç¹” Soft Tissue</button>
      </div>

      <div id="tab-sagittal" class="inner-content active">
        <table class="data-table">
          <thead>
            <tr><th>æ¸¬é‡å€¼</th><th>æ­£å¸¸å€¼</th><th>ä»£è¡¨æ„ç¾©</th><th>ç•°å¸¸åˆ¤è®€</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>SNA</strong></td>
              <td class="mono">82Â° Â± 2Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸Šé¡ç›¸å°æ–¼é¡±åº•çš„å‰å¾Œä½ç½®</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ &gt;84Â°</span> ä¸Šé¡å‰çª<br>
                <span class="val-indicator val-low">â†“ &lt;80Â°</span> ä¸Šé¡å¾Œç¸®
              </td>
            </tr>
            <tr>
              <td><strong>SNB</strong></td>
              <td class="mono">80Â° Â± 2Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸‹é¡ç›¸å°æ–¼é¡±åº•çš„å‰å¾Œä½ç½®</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ &gt;82Â°</span> ä¸‹é¡å‰çª<br>
                <span class="val-indicator val-low">â†“ &lt;78Â°</span> ä¸‹é¡å¾Œç¸®
              </td>
            </tr>
            <tr>
              <td><strong>ANB</strong></td>
              <td class="mono">2Â° Â± 2Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸Šä¸‹é¡éª¨çš„ç›¸å°å‰å¾Œé—œä¿‚</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-normal">2-4Â°</span> Class I<br>
                <span class="val-indicator val-high">&gt;4Â°</span> Class II<br>
                <span class="val-indicator val-low">&lt;0Â°</span> Class III
              </td>
            </tr>
            <tr>
              <td><strong>Wits Appraisal</strong></td>
              <td class="mono">â™‚ 0 Â± 1mm<br>â™€ -1 Â± 1mm</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">AO-BO è·é›¢ï¼Œä¸å— N é»å½±éŸ¿</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">æ­£å€¼</span> Class II å‚¾å‘<br>
                <span class="val-indicator val-low">è² å€¼</span> Class III å‚¾å‘
              </td>
            </tr>
            <tr>
              <td><strong>A-NVert</strong></td>
              <td class="mono">0 ~ +1 mm</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">A é»åˆ° N é»å‚ç·šçš„è·é›¢ (McNamara)</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">æ­£å€¼å¤§</span> ä¸Šé¡å‰çª<br>
                <span class="val-indicator val-low">è² å€¼</span> ä¸Šé¡å¾Œç¸®
              </td>
            </tr>
            <tr>
              <td><strong>Pog-NVert</strong></td>
              <td class="mono">-2 ~ 0 mm</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">Pog åˆ° N é»å‚ç·šçš„è·é›¢ (McNamara)</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">æ­£å€¼å¤§</span> ä¸‹é¡å‰çª<br>
                <span class="val-indicator val-low">è² å€¼å¤§</span> ä¸‹é¡å¾Œç¸®
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div id="tab-vertical" class="inner-content">
        <table class="data-table">
          <thead>
            <tr><th>æ¸¬é‡å€¼</th><th>æ­£å¸¸å€¼</th><th>ä»£è¡¨æ„ç¾©</th><th>ç•°å¸¸åˆ¤è®€</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>MMPA (MxPl-MnPl)</strong></td>
              <td class="mono">27Â° Â± 4Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸Šä¸‹é¡éª¨å¹³é¢çš„å¤¾è§’ï¼Œåæ˜ å‚ç›´å‘é—œä¿‚</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ &gt;31Â°</span> é«˜è§’å‹ï¼Œå¾Œæ—‹ç”Ÿé•·ï¼Œé–‹å’¬å‚¾å‘<br>
                <span class="val-indicator val-low">â†“ &lt;23Â°</span> ä½è§’å‹ï¼Œå‰æ—‹ç”Ÿé•·ï¼Œæ·±å’¬å‚¾å‘
              </td>
            </tr>
            <tr>
              <td><strong>FMA (FH-MnPl)</strong></td>
              <td class="mono">25Â° Â± 5Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">Frankfort plane èˆ‡ mandibular plane çš„å¤¾è§’</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">&gt;30Â°</span> å‚ç›´ç”Ÿé•·å‹ (vertical pattern)<br>
                <span class="val-indicator val-low">&lt;20Â°</span> æ°´å¹³ç”Ÿé•·å‹ (horizontal pattern)
              </td>
            </tr>
            <tr>
              <td><strong>SN-MnPl</strong></td>
              <td class="mono">32Â° Â± 5Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">SN å¹³é¢èˆ‡ä¸‹é¡å¹³é¢çš„å¤¾è§’</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ å¢å¤§</span> å‚ç›´ç”Ÿé•·å‹<br>
                <span class="val-indicator val-low">â†“ æ¸›å°</span> æ°´å¹³ç”Ÿé•·å‹
              </td>
            </tr>
            <tr>
              <td><strong>Facial Proportion<br>(LAFH%)</strong></td>
              <td class="mono">55% Â± 2%</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸‹å‰é¢é«˜ / å…¨å‰é¢é«˜çš„æ¯”ä¾‹</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">&gt;57%</span> é•·è‡‰å‹<br>
                <span class="val-indicator val-low">&lt;53%</span> çŸ­è‡‰å‹
              </td>
            </tr>
            <tr>
              <td><strong>Gonial Angle</strong></td>
              <td class="mono">128Â° Â± 7Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸‹é¡è§’è§’åº¦</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ å¢å¤§</span> å‚ç›´ç”Ÿé•·å‹<br>
                <span class="val-indicator val-low">â†“ æ¸›å°</span> æ–¹å½¢ä¸‹é¡
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div id="tab-dental" class="inner-content">
        <table class="data-table">
          <thead>
            <tr><th>æ¸¬é‡å€¼</th><th>æ­£å¸¸å€¼</th><th>ä»£è¡¨æ„ç¾©</th><th>ç•°å¸¸åˆ¤è®€</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>U1 to MxPl</strong></td>
              <td class="mono">109Â° Â± 6Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸Šé¡åˆ‡ç‰™ç›¸å°æ–¼ä¸Šé¡å¹³é¢çš„å‚¾æ–œè§’</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ &gt;115Â°</span> å‰å‚¾ (proclined)<br>
                <span class="val-indicator val-low">â†“ &lt;103Â°</span> å¾Œå‚¾ (retroclined)
              </td>
            </tr>
            <tr>
              <td><strong>L1 to MnPl (IMPA)</strong></td>
              <td class="mono">93Â° Â± 6Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸‹é¡åˆ‡ç‰™ç›¸å°æ–¼ä¸‹é¡å¹³é¢çš„å‚¾æ–œè§’</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ &gt;99Â°</span> å‰å‚¾ (proclined)<br>
                <span class="val-indicator val-low">â†“ &lt;87Â°</span> å¾Œå‚¾ (retroclined)
              </td>
            </tr>
            <tr>
              <td><strong>Inter-incisal Angle</strong></td>
              <td class="mono">135Â° Â± 10Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸Šä¸‹åˆ‡ç‰™é•·è»¸çš„å¤¾è§’</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ &gt;145Â°</span> åˆ‡ç‰™å¾Œå‚¾ / æ·±å’¬<br>
                <span class="val-indicator val-low">â†“ &lt;125Â°</span> åˆ‡ç‰™å‰å‚¾ / æš´ç‰™
              </td>
            </tr>
            <tr>
              <td><strong>U1 to NA (è§’åº¦)</strong></td>
              <td class="mono">22Â° Â± 5Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸Šé¡åˆ‡ç‰™ç›¸å°æ–¼ NA ç·šçš„è§’åº¦</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ å¢å¤§</span> ä¸Šåˆ‡ç‰™å‰å‚¾<br>
                <span class="val-indicator val-low">â†“ æ¸›å°</span> ä¸Šåˆ‡ç‰™å¾Œå‚¾
              </td>
            </tr>
            <tr>
              <td><strong>U1 to NA (è·é›¢)</strong></td>
              <td class="mono">4 mm</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸Šåˆ‡ç‰™åˆ‡ç·£åˆ° NA ç·šçš„è·é›¢</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ å¢å¤§</span> ä¸Šåˆ‡ç‰™å‰çª (procumbent)
              </td>
            </tr>
            <tr>
              <td><strong>L1 to NB (è§’åº¦)</strong></td>
              <td class="mono">25Â° Â± 5Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸‹é¡åˆ‡ç‰™ç›¸å°æ–¼ NB ç·šçš„è§’åº¦</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ å¢å¤§</span> ä¸‹åˆ‡ç‰™å‰å‚¾<br>
                <span class="val-indicator val-low">â†“ æ¸›å°</span> ä¸‹åˆ‡ç‰™å¾Œå‚¾
              </td>
            </tr>
            <tr>
              <td><strong>L1 to NB (è·é›¢)</strong></td>
              <td class="mono">4 mm</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸‹åˆ‡ç‰™åˆ‡ç·£åˆ° NB ç·šçš„è·é›¢</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ å¢å¤§</span> ä¸‹åˆ‡ç‰™å‰çª (procumbent)
              </td>
            </tr>
            <tr>
              <td><strong>Overjet</strong></td>
              <td class="mono">2-4 mm</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">æ°´å¹³è¦†è“‹</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ å¢å¤§</span> Class II å‚¾å‘<br>
                <span class="val-indicator val-low">â†“ è² å€¼</span> Class III / å‰ç‰™åå’¬
              </td>
            </tr>
            <tr>
              <td><strong>Overbite</strong></td>
              <td class="mono">2-4 mm</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">å‚ç›´è¦†è“‹</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ å¢å¤§</span> æ·±å’¬ (deep bite)<br>
                <span class="val-indicator val-low">â†“ è² å€¼</span> é–‹å’¬ (open bite)
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div id="tab-soft" class="inner-content">
        <table class="data-table">
          <thead>
            <tr><th>æ¸¬é‡å€¼</th><th>æ­£å¸¸å€¼</th><th>ä»£è¡¨æ„ç¾©</th><th>ç•°å¸¸åˆ¤è®€</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Nasolabial Angle</strong></td>
              <td class="mono">102Â° Â± 8Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">é¼»å­ä¸‹ç·£èˆ‡ä¸Šå”‡çš„å¤¾è§’</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ éŠ³è§’</span> ä¸Šé¡å¾Œç¸® / ä¸Šå”‡å¾Œç¸®<br>
                <span class="val-indicator val-low">â†“ éˆè§’</span> ä¸Šé¡å‰çª / ä¸Šå”‡å‰çª
              </td>
            </tr>
            <tr>
              <td><strong>Lower Lip to E-plane</strong></td>
              <td class="mono">-2 Â± 2 mm</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸‹å”‡åˆ° Ricketts E-line (é¼»å°–-ä¸‹å·´å°–) çš„è·é›¢</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">æ­£å€¼</span> å”‡éƒ¨å‰çª<br>
                <span class="val-indicator val-low">è² å€¼å¤§</span> å”‡éƒ¨å¾Œç¸®
              </td>
            </tr>
            <tr>
              <td><strong>Upper Lip to S-line</strong></td>
              <td class="mono">0 mm</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">ä¸Šå”‡åˆ° Steiner S-line çš„è·é›¢</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">æ­£å€¼</span> ä¸Šå”‡å‰çª<br>
                <span class="val-indicator val-low">è² å€¼</span> ä¸Šå”‡å¾Œç¸®
              </td>
            </tr>
            <tr>
              <td><strong>Soft Tissue Facial Angle</strong></td>
              <td class="mono">12Â° Â± 4Â°</td>
              <td style="font-size:0.82rem;color:var(--text-secondary)">è»Ÿçµ„ç¹”å´è²Œçš„å‡¸åº¦</td>
              <td style="font-size:0.82rem">
                <span class="val-indicator val-high">â†‘ å¢å¤§</span> å‡¸é¢å‹<br>
                <span class="val-indicator val-low">â†“ æ¸›å°æˆ–è² å€¼</span> å‡¹é¢å‹
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="card">
      <div class="card-title"><span class="badge badge-yellow">æ³¨æ„</span> æ¸¬é‡çš„æ³¨æ„äº‹é …</div>
      <div style="color:var(--text-secondary);font-size:0.88rem;line-height:1.8;">
        <div class="key-point">
          <strong style="color:var(--accent-yellow)">âš  FH Plane çš„å½±éŸ¿ï¼š</strong>æ‹æ”æ™‚è‹¥é ­éƒ¨æœ‰å‰å¾Œå‚¾æ–œï¼ŒFrankfort plane (FH) çš„è§’åº¦æœƒæ”¹è®Šã€‚è‹¥ FH æœ¬èº«å°±æœ‰å‚¾æ–œï¼Œå‰‡ä»¥ FH ç‚ºåŸºæº–åšçš„å‚ç·šæ¸¬é‡ï¼ˆå¦‚ A-NVertã€Pog-NVertï¼‰æœƒå—åˆ°é¡¯è‘—å½±éŸ¿ï¼Œä¸”è·é›¢ N é»è¶Šé çš„æ¸¬é‡ï¼ˆå¦‚ Pog-NVertï¼‰å½±éŸ¿è¶Šå¤§ã€‚
        </div>
        <div class="key-point">
          <strong style="color:var(--accent-yellow)">âš  Nasion (N) é»çš„å½±éŸ¿ï¼š</strong>N é»ä½ç½®çš„åç§»æœƒå½±éŸ¿æ‰€æœ‰ä»¥ N ç‚ºåƒè€ƒçš„è§’åº¦æ¸¬é‡ï¼ŒåŒ…æ‹¬ SNAã€SNBã€ANBã€‚è‹¥ SNA æ˜é¡¯åé›¢æ­£å¸¸å€¼ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ Wits analysis ä¾†è£œå……åˆ¤è®€ã€‚
        </div>
        <div class="key-point">
          <strong style="color:var(--accent-yellow)">âš  æ—ç¾¤å·®ç•°ï¼š</strong>ä¸Šè¿°æ­£å¸¸å€¼å¤šåŸºæ–¼ç™½äººæ—ç¾¤ï¼Œäºæ´²äººå¯èƒ½æœ‰äº›è¨±å·®ç•°ï¼ˆå¦‚è¼ƒå¤§çš„ SNAã€è¼ƒçªå‡ºçš„å”‡éƒ¨ä½ç½®ç­‰ï¼‰ã€‚è§£è®€æ™‚æ‡‰è€ƒæ…®æ‚£è€…çš„ç¨®æ—èƒŒæ™¯ã€‚
        </div>
      </div>
    </div>
  </div>

  <!-- ===== ANALYSIS STEPS ===== -->
  <div id="steps" class="section fade-in">
    <div class="card" style="margin-bottom:1.5rem;">
      <div class="card-title">ğŸ”¬ Cephalometric Analysis ç³»çµ±æ€§åˆ†ææ­¥é©Ÿ</div>
      <p style="color:var(--text-secondary);font-size:0.88rem;">
        é»æ“Šæ¯å€‹æ­¥é©Ÿå¯å±•é–‹è©³ç´°èªªæ˜ã€‚æ­¤æµç¨‹åƒè€ƒæ¢ç¥éŠ˜é†«å¸«çš„åˆ†æé‚è¼¯èˆ‡è‡¨åºŠå¯¦å‹™ã€‚
      </p>
    </div>

    <div class="step" onclick="toggleStep(this)">
      <div class="step-number">0</div>
      <div class="step-content">
        <h3>æª¢æŸ¥å½±åƒå“è³ªèˆ‡æ’é™¤ç—…ç†</h3>
        <p>åœ¨åšä»»ä½• tracing ä¹‹å‰ï¼Œå…ˆç¢ºèªå½±åƒå“è³ªï¼Œä¸¦ä»”ç´°æª¢æŸ¥æ˜¯å¦æœ‰æ„å¤–ç™¼ç¾çš„ç—…è®Šã€‚</p>
        <div class="step-detail">
          <div class="key-point"><strong>å½±åƒå“è³ª</strong>ï¼šç¢ºèªé ­éƒ¨å®šä½æ­£ç¢ºã€ç„¡æ—‹è½‰æˆ–å‚¾æ–œã€è»Ÿçµ„ç¹”è¼ªå»“æ¸…æ™°å¯è¦‹</div>
          <div class="key-point"><strong>ç—…ç†æ’é™¤</strong>ï¼šæª¢æŸ¥æœ‰ç„¡éª¨æŠ˜ã€è…«ç˜¤ã€å›Šè…«ã€è¶éç•°å¸¸ï¼ˆå¦‚æ“´å¤§ï¼‰ã€é ¸æ¤ç•°å¸¸ç­‰</div>
          <div class="key-point"><strong>è¶é (Sella turcica)</strong>ï¼šæ³¨æ„å¤§å°å’Œå½¢æ…‹æ˜¯å¦æ­£å¸¸ï¼Œç•°å¸¸æ“´å¤§å¯èƒ½æš—ç¤ºè…¦ä¸‹å‚é«”ç—…è®Š</div>
        </div>
      </div>
    </div>

    <div class="step" onclick="toggleStep(this)">
      <div class="step-number">1</div>
      <div class="step-content">
        <h3>é©—è­‰ Frankfort Horizontal Plane (FH)</h3>
        <p>ç¢ºèª FH plane æ˜¯å¦æ¥è¿‘æ°´å¹³ã€‚å¦‚æœæœ‰å‚¾æ–œï¼Œå¾ŒçºŒä¾è³´ FH çš„æ¸¬é‡éƒ½éœ€è¦ä¿®æ­£ã€‚</p>
        <div class="step-detail">
          <div class="key-point">æª¢æŸ¥ Vert-FH è§’åº¦ã€‚æ­£å¸¸æƒ…æ³ä¸‹ FH æ‡‰æ¥è¿‘æ°´å¹³ã€‚è‹¥æ‹æ”æ™‚æŠ¬é ­ï¼ŒVert-FH è§’åº¦è®Šå°ï¼›ä½é ­å‰‡è®Šå¤§ã€‚</div>
          <div class="key-point">æœ‰äº›äºº FH plane å¤©ç”Ÿå°±æœ‰å‚¾æ–œï¼Œä¸ä¸€å®šæ˜¯å®šä½éŒ¯èª¤ã€‚</div>
          <div class="key-point">å¦‚æœ FH æœ‰å•é¡Œï¼ŒA-NVert å’Œ Pog-NVert ç­‰æ•¸å€¼æœƒè®Šå¾—ä¸æº–ç¢ºï¼Œè¶Šé é›¢ N é»çš„å½±éŸ¿è¶Šå¤§ã€‚</div>
          <div class="key-point" style="border-left-color:var(--accent-red)"><strong style="color:var(--accent-red)">âš  è‹¥æ‰€æœ‰æ•¸å­—æ¹Šä¸èµ·ä¾†ï¼Œå›å»æª¢æŸ¥ FH plane æ˜¯å¦ç•«éŒ¯æˆ–å¤©ç”Ÿå‚¾æ–œï¼</strong></div>
        </div>
      </div>
    </div>

    <div class="step" onclick="toggleStep(this)">
      <div class="step-number">2</div>
      <div class="step-content">
        <h3>é©—è­‰ Nasion (N) é»ä½ç½®</h3>
        <p>è‹¥ FH æ­£å¸¸ï¼Œæ¥è‘—æª¢æŸ¥ N é»æ˜¯å¦æœ‰ä¸Šä¸‹åç§»ã€‚N çš„åç§»æœƒå½±éŸ¿æ‰€æœ‰ SN ç›¸é—œçš„æ¸¬é‡ã€‚</p>
        <div class="step-detail">
          <div class="key-point">æ ¹æ“š FH plane è§’åº¦ä¾†åˆ¤æ–· N é»æœ‰ç„¡ä¸Šä¸‹åç§»</div>
          <div class="key-point">è‹¥ N é»åç§»ï¼ŒSNAã€SNBã€ANBã€SNMPã€U1-SN ç­‰æ•¸å€¼éƒ½éœ€è¦ä¸€èµ·ä¿®æ­£</div>
          <div class="key-point">ä¹Ÿè¦ç¢ºèª Articulare (Ar) é»æœ‰ç„¡å‰å¾Œåç§»ã€‚è‹¥ Ar-Aã€Ar-Bã€SN é•·åº¦éƒ½åå°ï¼Œæ‚£è€…å¯èƒ½æ˜¯ AP æ–¹å‘çš„å°é ­é¡±</div>
        </div>
      </div>
    </div>

    <div class="step" onclick="toggleStep(this)">
      <div class="step-number">3</div>
      <div class="step-content">
        <h3>å‰å¾Œå‘åˆ†æï¼šéª¨éª¼é—œä¿‚ (Sagittal Skeletal)</h3>
        <p>åˆ¤æ–·ä¸Šä¸‹é¡éª¨çš„å‰å¾Œå‘é—œä¿‚å±¬æ–¼ Class Iã€II é‚„æ˜¯ IIIã€‚</p>
        <div class="step-detail">
          <div class="key-point"><strong>SNA</strong> (82Â° Â± 2Â°)ï¼šä¸Šé¡å‰å¾Œä½ç½®ã€‚å¢å¤§ = ä¸Šé¡å‰çªï¼›æ¸›å° = ä¸Šé¡å¾Œç¸®</div>
          <div class="key-point"><strong>SNB</strong> (80Â° Â± 2Â°)ï¼šä¸‹é¡å‰å¾Œä½ç½®ã€‚å¢å¤§ = ä¸‹é¡å‰çªï¼›æ¸›å° = ä¸‹é¡å¾Œç¸®</div>
          <div class="key-point"><strong>ANB</strong> (2Â° Â± 2Â°)ï¼šåˆ¤æ–· skeletal classã€‚2-4Â° = Class Iï¼›&gt;4Â° = Class IIï¼›&lt;0Â° = Class III</div>
          <div class="key-point"><strong>Wits Appraisal</strong>ï¼šè£œå…… ANB çš„ä¸è¶³ï¼Œä¸å— N é»ä½ç½®å½±éŸ¿</div>
          <div class="key-point" style="border-left-color:var(--accent-purple)">æ ¹æ“šä»¥ä¸Šæ•¸æ“šæ‰¾å‡ºç©¶ç«Ÿæ˜¯ä¸Šé¡éª¨å‡ºå•é¡Œã€ä¸‹é¡éª¨å‡ºå•é¡Œã€é‚„æ˜¯å…©è€…éƒ½æœ‰</div>
        </div>
      </div>
    </div>

    <div class="step" onclick="toggleStep(this)">
      <div class="step-number">4</div>
      <div class="step-content">
        <h3>å‰å¾Œå‘åˆ†æï¼šé½’æ€§ä»£å„Ÿ (Dental Compensation)</h3>
        <p>ç‰™é½’è§’åº¦æ˜¯å¦æœ‰é…åˆéª¨éª¼è®ŠåŒ–è€Œç”¢ç”Ÿç›¸æ‡‰çš„ä»£å„Ÿæ€§è§’åº¦è®ŠåŒ–ã€‚</p>
        <div class="step-detail">
          <div class="key-point"><strong>U1 to MxPl</strong> (109Â° Â± 6Â°)ï¼šä¸Šé¡åˆ‡ç‰™æ˜¯å¦å› éª¨éª¼ç•°å¸¸è€Œæœ‰ä»£å„Ÿæ€§å‚¾æ–œ</div>
          <div class="key-point"><strong>L1 to MnPl</strong> (93Â° Â± 6Â°)ï¼šä¸‹é¡åˆ‡ç‰™çš„å‚¾æ–œè§’åº¦</div>
          <div class="key-point"><strong>Inter-incisal angle</strong> (135Â° Â± 10Â°)ï¼šåæ˜ åˆ‡ç‰™ä¹‹é–“çš„è§’åº¦é—œä¿‚</div>
          <div class="key-point" style="border-left-color:var(--accent-green)">
            <strong>Dental compensation ç¯„ä¾‹ï¼š</strong><br>
            Class II æ‚£è€… â†’ ä¸‹é¡åˆ‡ç‰™å¸¸ä»£å„Ÿæ€§å‰å‚¾ (L1-MnPl â†‘)<br>
            Class III æ‚£è€… â†’ ä¸Šé¡åˆ‡ç‰™å¸¸ä»£å„Ÿæ€§å‰å‚¾ (U1-MxPl â†‘)ï¼Œä¸‹é¡åˆ‡ç‰™å¾Œå‚¾ (L1-MnPl â†“)
          </div>
        </div>
      </div>
    </div>

    <div class="step" onclick="toggleStep(this)">
      <div class="step-number">5</div>
      <div class="step-content">
        <h3>å‚ç›´å‘åˆ†æï¼šéª¨éª¼é—œä¿‚ (Vertical Skeletal)</h3>
        <p>è©•ä¼°ä¸Šä¸‹é¡éª¨çš„å‚ç›´é—œä¿‚ï¼Œä¸¦æ€è€ƒå‚ç›´é—œä¿‚æ˜¯å¦å½±éŸ¿å‰å¾Œå‘é—œä¿‚ã€‚</p>
        <div class="step-detail">
          <div class="key-point"><strong>MMPA</strong> (27Â° Â± 4Â°)ï¼šä¸Šä¸‹é¡å¹³é¢è§’ï¼Œåæ˜ é¢éƒ¨å‚ç›´æ¯”ä¾‹</div>
          <div class="key-point"><strong>FMA</strong> (25Â° Â± 5Â°)ï¼šFrankfort plane èˆ‡ä¸‹é¡å¹³é¢è§’</div>
          <div class="key-point"><strong>Facial Proportion (LAFH%)</strong> (55% Â± 2%)ï¼šä¸‹å‰é¢é«˜æ¯”ä¾‹</div>
          <div class="key-point" style="border-left-color:var(--accent-red)">
            <strong style="color:var(--accent-red)">é‡è¦ï¼š</strong>ç•¶ä¸‹é¡æ‰“é–‹ï¼ˆé«˜è§’å‹ï¼‰æ™‚ï¼Œä¸‹å·´æœƒè·Ÿè‘—å¾Œç¸®ï¼Œå› æ­¤å‚ç›´å‘ç•°å¸¸æœƒå½±éŸ¿å‰å¾Œå‘çš„åˆ¤è®€ï¼
          </div>
        </div>
      </div>
    </div>

    <div class="step" onclick="toggleStep(this)">
      <div class="step-number">6</div>
      <div class="step-content">
        <h3>å‚ç›´å‘åˆ†æï¼šé½’æ€§é—œä¿‚</h3>
        <p>ç¢ºèªé½’æ€§çš„å‚ç›´é—œä¿‚èˆ‡éª¨éª¼çš„å‚ç›´è¨ºæ–·æ˜¯å¦ä¸€è‡´ã€‚</p>
        <div class="step-detail">
          <div class="key-point"><strong>Overbite</strong>ï¼šå‚ç›´è¦†è“‹ã€‚æ­£å¸¸ 2-4mm</div>
          <div class="key-point">è‹¥éª¨éª¼ç‚ºé«˜è§’å‹ä½† overbite æ­£å¸¸æˆ–å¢åŠ ï¼Œä»£è¡¨æœ‰ dental compensation</div>
          <div class="key-point">è‹¥é½’æ€§èˆ‡éª¨éª¼çš„å‚ç›´è¨ºæ–·ä¸ä¸€è‡´ï¼Œæª¢æŸ¥æ¸¬é‡æ˜¯å¦æœ‰èª¤ï¼Œæˆ–æ˜¯æ‚£è€…ç¢ºå¯¦ç¼ºä¹ dental compensation</div>
        </div>
      </div>
    </div>

    <div class="step" onclick="toggleStep(this)">
      <div class="step-number">7</div>
      <div class="step-content">
        <h3>è»Ÿçµ„ç¹”åˆ†æèˆ‡æ°£é“è©•ä¼°</h3>
        <p>è©•ä¼°è»Ÿçµ„ç¹”è¼ªå»“å’Œå¾Œæ–¹æ°£é“ç©ºé–“ã€‚</p>
        <div class="step-detail">
          <div class="key-point"><strong>Nasolabial angle</strong> (102Â° Â± 8Â°)ï¼šåæ˜ ä¸Šå”‡èˆ‡é¼»å­çš„é—œä¿‚</div>
          <div class="key-point"><strong>Lower lip to E-plane</strong> (-2 Â± 2mm)ï¼šå”‡éƒ¨çªå‡ºåº¦</div>
          <div class="key-point"><strong>Posterior Airway Space (PAS)</strong>ï¼šæ­£å¸¸ç´„ 11mmï¼Œ&lt;8mm éœ€ç‰¹åˆ¥æ³¨æ„ OSA é¢¨éšª</div>
          <div class="key-point">è»Ÿè…­é•·åº¦èˆ‡åšåº¦ä¹Ÿæ‡‰è©•ä¼°ï¼Œè¼ƒé•·è¼ƒåšçš„è»Ÿè…­å¯èƒ½æ¸›å°‘æ°£é“ç©ºé–“</div>
        </div>
      </div>
    </div>

    <div class="step" onclick="toggleStep(this)">
      <div class="step-number">8</div>
      <div class="step-content">
        <h3>ç¶œåˆåˆ¤è®€èˆ‡å ±å‘Šæ’°å¯«</h3>
        <p>æ•´åˆæ‰€æœ‰æ¸¬é‡çµæœï¼Œæ’°å¯«çµæ§‹åŒ–çš„åˆ†æå ±å‘Šã€‚</p>
        <div class="step-detail">
          <div class="key-point">
            <strong>å ±å‘Šæ¶æ§‹å»ºè­°ï¼š</strong><br>
            1. å½±åƒå“è³ªæè¿°<br>
            2. éª¨éª¼åˆ†é¡ (Skeletal classification)<br>
            3. å‰å¾Œå‘éª¨éª¼é—œä¿‚ (SNA, SNB, ANB, Wits)<br>
            4. å‚ç›´å‘éª¨éª¼é—œä¿‚ (MMPA, FMA, LAFH%)<br>
            5. é½’æ€§é—œä¿‚ (Incisor inclinations, overjet, overbite)<br>
            6. è»Ÿçµ„ç¹”åˆ†æ<br>
            7. æ°£é“è©•ä¼°<br>
            8. çµè«–èˆ‡å»ºè­°
          </div>
          <div class="key-point" style="border-left-color:var(--accent-cyan)">ä½¿ç”¨ä¸‹ä¸€é çš„ã€Œå ±å‘Šç”¢ç”Ÿå™¨ã€ä¾†ç·´ç¿’æ’°å¯«å®Œæ•´çš„å ±å‘Šï¼</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== REPORT GENERATOR ===== -->
  <div id="report" class="section fade-in">
    <div class="card" style="margin-bottom:0;">
      <div class="card-title">ğŸ“ Cephalometric Analysis å ±å‘Šç”¢ç”Ÿå™¨</div>
      <p style="color:var(--text-secondary);font-size:0.85rem;margin-bottom:0.5rem;">
        è¼¸å…¥æ¸¬é‡å€¼å¾Œè‡ªå‹•ç”¢ç”Ÿçµæ§‹åŒ–å ±å‘Šï¼Œä¸¦æ¨™ç¤ºç•°å¸¸å€¼ã€‚å¯è¤‡è£½è²¼ä¸Šä½¿ç”¨ã€‚
      </p>
    </div>

    <div class="report-section" style="margin-top:1.2rem;">
      <div>
        <!-- Patient info -->
        <div class="card">
          <div class="card-title" style="font-size:1rem;">ğŸ‘¤ æ‚£è€…è³‡è¨Š</div>
          <div class="input-row">
            <div class="input-group">
              <label>å§“å</label>
              <input type="text" id="ptName" placeholder="Patient Name">
            </div>
            <div class="input-group">
              <label>å¹´é½¡ / æ€§åˆ¥</label>
              <input type="text" id="ptAge" placeholder="e.g. 25/F">
            </div>
          </div>
          <div class="input-group">
            <label>æª¢æŸ¥æ—¥æœŸ</label>
            <input type="date" id="ptDate">
          </div>
        </div>

        <!-- Sagittal skeletal -->
        <div class="card">
          <div class="card-title" style="font-size:1rem;"><span class="badge badge-cyan">Sagittal</span> å‰å¾Œå‘éª¨éª¼æ¸¬é‡</div>
          <div class="input-row-3">
            <div class="input-group">
              <label>SNA (Â°)</label>
              <input type="number" id="vSNA" step="0.1" placeholder="82">
            </div>
            <div class="input-group">
              <label>SNB (Â°)</label>
              <input type="number" id="vSNB" step="0.1" placeholder="80">
            </div>
            <div class="input-group">
              <label>ANB (Â°)</label>
              <input type="number" id="vANB" step="0.1" placeholder="2">
            </div>
          </div>
          <div class="input-row">
            <div class="input-group">
              <label>Wits (mm)</label>
              <input type="number" id="vWits" step="0.1" placeholder="0">
            </div>
            <div class="input-group">
              <label>A-NVert (mm)</label>
              <input type="number" id="vANVert" step="0.1" placeholder="0">
            </div>
          </div>
        </div>

        <!-- Vertical -->
        <div class="card">
          <div class="card-title" style="font-size:1rem;"><span class="badge badge-purple">Vertical</span> å‚ç›´å‘æ¸¬é‡</div>
          <div class="input-row-3">
            <div class="input-group">
              <label>MMPA (Â°)</label>
              <input type="number" id="vMMPA" step="0.1" placeholder="27">
            </div>
            <div class="input-group">
              <label>FMA (Â°)</label>
              <input type="number" id="vFMA" step="0.1" placeholder="25">
            </div>
            <div class="input-group">
              <label>LAFH% (%)</label>
              <input type="number" id="vLAFH" step="0.1" placeholder="55">
            </div>
          </div>
          <div class="input-row">
            <div class="input-group">
              <label>SN-MnPl (Â°)</label>
              <input type="number" id="vSNMnPl" step="0.1" placeholder="32">
            </div>
            <div class="input-group">
              <label>Gonial Angle (Â°)</label>
              <input type="number" id="vGonial" step="0.1" placeholder="128">
            </div>
          </div>
        </div>

        <!-- Dental -->
        <div class="card">
          <div class="card-title" style="font-size:1rem;"><span class="badge badge-green">Dental</span> é½’æ€§æ¸¬é‡</div>
          <div class="input-row-3">
            <div class="input-group">
              <label>U1-MxPl (Â°)</label>
              <input type="number" id="vU1MxPl" step="0.1" placeholder="109">
            </div>
            <div class="input-group">
              <label>L1-MnPl (Â°)</label>
              <input type="number" id="vL1MnPl" step="0.1" placeholder="93">
            </div>
            <div class="input-group">
              <label>Inter-incisal (Â°)</label>
              <input type="number" id="vInterInc" step="0.1" placeholder="135">
            </div>
          </div>
          <div class="input-row">
            <div class="input-group">
              <label>Overjet (mm)</label>
              <input type="number" id="vOJ" step="0.1" placeholder="3">
            </div>
            <div class="input-group">
              <label>Overbite (mm)</label>
              <input type="number" id="vOB" step="0.1" placeholder="3">
            </div>
          </div>
        </div>

        <!-- Soft tissue -->
        <div class="card">
          <div class="card-title" style="font-size:1rem;"><span class="badge badge-yellow">Soft Tissue</span> è»Ÿçµ„ç¹”æ¸¬é‡</div>
          <div class="input-row-3">
            <div class="input-group">
              <label>Nasolabial (Â°)</label>
              <input type="number" id="vNLA" step="0.1" placeholder="102">
            </div>
            <div class="input-group">
              <label>LL to E-plane (mm)</label>
              <input type="number" id="vLLE" step="0.1" placeholder="-2">
            </div>
            <div class="input-group">
              <label>PAS (mm)</label>
              <input type="number" id="vPAS" step="0.1" placeholder="11">
            </div>
          </div>
        </div>

        <div style="display:flex;gap:0.8rem;margin-top:0.5rem;">
          <button class="btn btn-primary" onclick="generateReport()">ğŸ“‹ ç”¢ç”Ÿå ±å‘Š</button>
          <button class="btn btn-secondary" onclick="fillSample()">ğŸ“¥ å¡«å…¥ç¯„ä¾‹å€¼</button>
          <button class="btn btn-secondary" onclick="clearAll()">ğŸ—‘ï¸ æ¸…é™¤</button>
        </div>
      </div>

      <div>
        <div class="card" style="position:sticky;top:1rem;">
          <div class="card-title" style="font-size:1rem;">ğŸ“„ Generated Report</div>
          <div class="report-wrapper">
            <button class="copy-btn" onclick="copyReport()">ğŸ“‹ Copy</button>
            <div class="report-output" id="reportOutput">
// è¼¸å…¥æ¸¬é‡å€¼å¾Œé»æ“Šã€Œç”¢ç”Ÿå ±å‘Šã€

// å ±å‘Šå°‡è‡ªå‹•ç”¢ç”Ÿåœ¨æ­¤è™•ï¼ŒåŒ…å«ï¼š
//   - Skeletal Classification
//   - Sagittal Relationship
//   - Vertical Relationship
//   - Dental Analysis
//   - Soft Tissue Analysis
//   - Summary & Impression
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== QUIZ ===== -->
  <div id="quiz" class="section fade-in">
    <div class="score-display">
      <div style="color:var(--text-secondary);font-size:0.85rem;margin-bottom:0.3rem;">æ­£ç¢ºç‡</div>
      <div class="score-number" id="scoreDisplay">0 / 0</div>
      <div style="margin-top:0.8rem;">
        <button class="btn btn-secondary btn-sm" onclick="resetQuiz()">ğŸ”„ é‡æ–°æ¸¬é©—</button>
        <button class="btn btn-secondary btn-sm" onclick="newQuiz()">ğŸ² æ›æ–°é¡Œç›®</button>
      </div>
    </div>

    <div id="quizContainer"></div>
  </div>
</div>

<script>
// ============ NAVIGATION ============
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  event.target.classList.add('active');
}

// ============ INNER TABS ============
function showInnerTab(btn, id) {
  const parent = btn.closest('.card');
  parent.querySelectorAll('.inner-tab').forEach(t => t.classList.remove('active'));
  parent.querySelectorAll('.inner-content').forEach(c => c.classList.remove('active'));
  btn.classList.add('active');
  document.getElementById(id).classList.add('active');
}

// ============ LANDMARK TOOLTIP ============
const diagramContainer = document.getElementById('diagramContainer');
const tooltip = document.getElementById('tooltip');
const ttName = document.getElementById('ttName');
const ttDesc = document.getElementById('ttDesc');

document.querySelectorAll('.landmark-dot').forEach(dot => {
  dot.addEventListener('mouseenter', (e) => {
    ttName.textContent = dot.dataset.name;
    ttDesc.textContent = dot.dataset.desc;
    const rect = diagramContainer.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    tooltip.style.left = (x + 15) + 'px';
    tooltip.style.top = (y - 10) + 'px';
    if (x > rect.width * 0.6) tooltip.style.left = (x - 310) + 'px';
    tooltip.classList.add('visible');
  });
  dot.addEventListener('mouseleave', () => {
    tooltip.classList.remove('visible');
  });
});

// ============ STEP TOGGLE ============
function toggleStep(el) {
  el.classList.toggle('expanded');
}

// ============ REPORT GENERATOR ============
function getVal(id) {
  const v = document.getElementById(id).value;
  return v === '' ? null : parseFloat(v);
}

function classify(val, norm, sd, highLabel, lowLabel, normLabel = 'normal') {
  if (val === null) return { status: 'N/A', label: '' };
  if (val > norm + sd) return { status: 'high', label: highLabel };
  if (val < norm - sd) return { status: 'low', label: lowLabel };
  return { status: 'normal', label: normLabel };
}

function tag(val, norm, sd) {
  if (val === null) return '';
  if (val > norm + sd) return ' â†‘';
  if (val < norm - sd) return ' â†“';
  return '';
}

function fillSample() {
  document.getElementById('ptName').value = 'Wang XX';
  document.getElementById('ptAge').value = '22/F';
  document.getElementById('ptDate').value = '2026-02-08';
  document.getElementById('vSNA').value = '84';
  document.getElementById('vSNB').value = '77';
  document.getElementById('vANB').value = '7';
  document.getElementById('vWits').value = '4';
  document.getElementById('vANVert').value = '2';
  document.getElementById('vMMPA').value = '32';
  document.getElementById('vFMA').value = '30';
  document.getElementById('vLAFH').value = '58';
  document.getElementById('vSNMnPl').value = '38';
  document.getElementById('vGonial').value = '135';
  document.getElementById('vU1MxPl').value = '112';
  document.getElementById('vL1MnPl').value = '98';
  document.getElementById('vInterInc').value = '120';
  document.getElementById('vOJ').value = '7';
  document.getElementById('vOB').value = '2';
  document.getElementById('vNLA').value = '95';
  document.getElementById('vLLE').value = '1';
  document.getElementById('vPAS').value = '9';
}

function clearAll() {
  document.querySelectorAll('#report input').forEach(i => i.value = '');
  document.getElementById('reportOutput').innerHTML = '// å·²æ¸…é™¤æ‰€æœ‰æ¬„ä½\n// è¼¸å…¥æ¸¬é‡å€¼å¾Œé»æ“Šã€Œç”¢ç”Ÿå ±å‘Šã€';
}

function generateReport() {
  const name = document.getElementById('ptName').value || 'N/A';
  const age = document.getElementById('ptAge').value || 'N/A';
  const date = document.getElementById('ptDate').value || 'N/A';

  const sna = getVal('vSNA');
  const snb = getVal('vSNB');
  const anb = getVal('vANB');
  const wits = getVal('vWits');
  const anvert = getVal('vANVert');
  const mmpa = getVal('vMMPA');
  const fma = getVal('vFMA');
  const lafh = getVal('vLAFH');
  const snmnpl = getVal('vSNMnPl');
  const gonial = getVal('vGonial');
  const u1mxpl = getVal('vU1MxPl');
  const l1mnpl = getVal('vL1MnPl');
  const interinc = getVal('vInterInc');
  const oj = getVal('vOJ');
  const ob = getVal('vOB');
  const nla = getVal('vNLA');
  const lle = getVal('vLLE');
  const pas = getVal('vPAS');

  // Skeletal classification
  let skelClass = 'I';
  let skelDesc = '';
  if (anb !== null) {
    if (anb > 4) { skelClass = 'II'; skelDesc = 'The maxilla is positioned anterior to the mandible.'; }
    else if (anb < 0) { skelClass = 'III'; skelDesc = 'The mandible is positioned anterior to the maxilla.'; }
    else { skelClass = 'I'; skelDesc = 'Normal anteroposterior relationship between maxilla and mandible.'; }
  }

  // Maxilla position
  let mxPos = '';
  if (sna !== null) {
    if (sna > 84) mxPos = 'prognathic (anteriorly positioned)';
    else if (sna < 80) mxPos = 'retrognathic (posteriorly positioned)';
    else mxPos = 'normally positioned';
  }

  // Mandible position
  let mnPos = '';
  if (snb !== null) {
    if (snb > 82) mnPos = 'prognathic (anteriorly positioned)';
    else if (snb < 78) mnPos = 'retrognathic (posteriorly positioned)';
    else mnPos = 'normally positioned';
  }

  // Vertical pattern
  let vertPat = '';
  if (mmpa !== null) {
    if (mmpa > 31) vertPat = 'hyperdivergent (high angle / vertical growth pattern)';
    else if (mmpa < 23) vertPat = 'hypodivergent (low angle / horizontal growth pattern)';
    else vertPat = 'normodivergent (average growth pattern)';
  }

  // Dental
  let u1desc = '';
  if (u1mxpl !== null) {
    if (u1mxpl > 115) u1desc = 'proclined';
    else if (u1mxpl < 103) u1desc = 'retroclined';
    else u1desc = 'normally inclined';
  }

  let l1desc = '';
  if (l1mnpl !== null) {
    if (l1mnpl > 99) l1desc = 'proclined';
    else if (l1mnpl < 87) l1desc = 'retroclined';
    else l1desc = 'normally inclined';
  }

  function fmt(v) { return v !== null ? v.toFixed(1) : 'N/A'; }
  function abnMark(v, norm, sd) {
    if (v === null) return '';
    if (v > norm + sd) return ' â¬†';
    if (v < norm - sd) return ' â¬‡';
    return '';
  }

  const report = `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  CEPHALOMETRIC ANALYSIS REPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Patient: ${name}
Age/Sex: ${age}
Date:    ${date}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. SKELETAL CLASSIFICATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Skeletal Class ${skelClass}
   ${skelDesc}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2. SAGITTAL (ANTEROPOSTERIOR) RELATIONSHIP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                  Measured    Normal       Status
   SNA            ${fmt(sna).padStart(6)}Â°     82Â° Â± 2Â°     ${mxPos}${abnMark(sna,82,2)}
   SNB            ${fmt(snb).padStart(6)}Â°     80Â° Â± 2Â°     ${mnPos}${abnMark(snb,80,2)}
   ANB            ${fmt(anb).padStart(6)}Â°      2Â° Â± 2Â°     Class ${skelClass}${abnMark(anb,2,2)}
   Wits           ${fmt(wits).padStart(6)}mm     0 Â± 1mm    ${wits !== null ? (wits > 1 ? 'Class II tendency' : wits < -1 ? 'Class III tendency' : 'normal') : ''}${abnMark(wits,0,1)}
   A-NVert        ${fmt(anvert).padStart(6)}mm     0~1mm      ${anvert !== null ? (anvert > 2 ? 'maxillary protrusion' : anvert < -1 ? 'maxillary retrusion' : 'normal') : ''}

   Maxilla: ${mxPos || 'N/A'}
   Mandible: ${mnPos || 'N/A'}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3. VERTICAL RELATIONSHIP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                  Measured    Normal       Status
   MMPA           ${fmt(mmpa).padStart(6)}Â°     27Â° Â± 4Â°     ${vertPat}${abnMark(mmpa,27,4)}
   FMA            ${fmt(fma).padStart(6)}Â°     25Â° Â± 5Â°     ${fma !== null ? (fma > 30 ? 'vertical pattern' : fma < 20 ? 'horizontal pattern' : 'normal') : ''}${abnMark(fma,25,5)}
   SN-MnPl        ${fmt(snmnpl).padStart(6)}Â°     32Â° Â± 5Â°     ${abnMark(snmnpl,32,5)}
   LAFH%          ${fmt(lafh).padStart(6)}%     55% Â± 2%     ${lafh !== null ? (lafh > 57 ? 'long face' : lafh < 53 ? 'short face' : 'normal proportion') : ''}${abnMark(lafh,55,2)}
   Gonial Angle   ${fmt(gonial).padStart(6)}Â°    128Â° Â± 7Â°    ${abnMark(gonial,128,7)}

   Growth Pattern: ${vertPat || 'N/A'}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
4. DENTAL ANALYSIS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                  Measured    Normal       Status
   U1-MxPl        ${fmt(u1mxpl).padStart(6)}Â°    109Â° Â± 6Â°    ${u1desc}${abnMark(u1mxpl,109,6)}
   L1-MnPl        ${fmt(l1mnpl).padStart(6)}Â°     93Â° Â± 6Â°    ${l1desc}${abnMark(l1mnpl,93,6)}
   Inter-incisal  ${fmt(interinc).padStart(6)}Â°    135Â° Â± 10Â°   ${interinc !== null ? (interinc > 145 ? 'reduced proclination' : interinc < 125 ? 'increased proclination' : 'normal') : ''}${abnMark(interinc,135,10)}
   Overjet         ${fmt(oj).padStart(5)}mm     2-4mm        ${oj !== null ? (oj > 4 ? 'increased' : oj < 2 ? 'reduced/negative' : 'normal') : ''}
   Overbite        ${fmt(ob).padStart(5)}mm     2-4mm        ${ob !== null ? (ob > 4 ? 'deep bite' : ob < 0 ? 'open bite' : 'normal') : ''}

   Upper Incisors: ${u1desc || 'N/A'}
   Lower Incisors: ${l1desc || 'N/A'}
   ${(skelClass === 'II' && l1mnpl > 99) ? 'âš  Dental compensation noted: lower incisors proclined in Class II pattern' : ''}${(skelClass === 'III' && u1mxpl > 115) ? 'âš  Dental compensation noted: upper incisors proclined in Class III pattern' : ''}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
5. SOFT TISSUE ANALYSIS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                  Measured    Normal       Status
   Nasolabial âˆ    ${fmt(nla).padStart(6)}Â°    102Â° Â± 8Â°    ${nla !== null ? (nla > 110 ? 'obtuse (lip retrusion)' : nla < 94 ? 'acute (lip protrusion)' : 'normal') : ''}${abnMark(nla,102,8)}
   LL to E-plane  ${fmt(lle).padStart(6)}mm    -2 Â± 2mm     ${lle !== null ? (lle > 0 ? 'protrusive lips' : lle < -4 ? 'retrusive lips' : 'normal') : ''}${abnMark(lle,-2,2)}
   PAS            ${fmt(pas).padStart(6)}mm     â‰¥11mm       ${pas !== null ? (pas < 8 ? 'âš  NARROWED - evaluate for OSA risk' : pas < 11 ? 'mildly reduced' : 'adequate') : ''}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
6. IMPRESSION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Skeletal Class ${skelClass} pattern with ${mxPos || '?'} maxilla
   and ${mnPos || '?'} mandible.
   ${vertPat ? 'Vertical pattern: ' + vertPat + '.' : ''}
   ${u1desc ? 'Upper incisors are ' + u1desc + '.' : ''}
   ${l1desc ? 'Lower incisors are ' + l1desc + '.' : ''}
   ${pas !== null && pas < 8 ? 'âš  Posterior airway space is narrowed; clinical correlation for OSA is recommended.' : ''}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`;

  document.getElementById('reportOutput').textContent = report;
}

function copyReport() {
  const text = document.getElementById('reportOutput').textContent;
  navigator.clipboard.writeText(text).then(() => {
    const btn = document.querySelector('.copy-btn');
    btn.textContent = 'âœ… Copied!';
    setTimeout(() => btn.textContent = 'ğŸ“‹ Copy', 2000);
  });
}

// ============ QUIZ ============
const quizBank = [
  {
    q: 'ANB è§’åº¦ç‚º 6Â°ï¼Œä»£è¡¨ä»€éº¼éª¨éª¼åˆ†é¡ï¼Ÿ',
    opts: ['Class I', 'Class II', 'Class III', 'æ­£å¸¸ç¯„åœ'],
    correct: 1,
    exp: 'ANB > 4Â° ä»£è¡¨ Skeletal Class IIï¼Œè¡¨ç¤ºä¸Šé¡ç›¸å°æ–¼ä¸‹é¡è¼ƒç‚ºå‰çªã€‚æ­£å¸¸å€¼ç‚º 2Â° Â± 2Â°ã€‚'
  },
  {
    q: 'SNA = 78Â°ï¼Œæ­¤æ‚£è€…çš„ä¸Šé¡ç›¸å°æ–¼é¡±åº•çš„ä½ç½®ç‚ºï¼Ÿ',
    opts: ['ä¸Šé¡å‰çª (prognathic)', 'ä¸Šé¡å¾Œç¸® (retrognathic)', 'æ­£å¸¸ä½ç½®', 'ç„¡æ³•åˆ¤æ–·'],
    correct: 1,
    exp: 'SNA æ­£å¸¸å€¼ç‚º 82Â° Â± 2Â°ï¼ˆå³ 80-84Â°ï¼‰ã€‚78Â° < 80Â°ï¼Œä»£è¡¨ä¸Šé¡å¾Œç¸® (maxillary retrognathism)ã€‚'
  },
  {
    q: 'MMPA = 35Â°ï¼ŒFMA = 33Â°ï¼ŒLAFH% = 59%ã€‚æ­¤æ‚£è€…æœ€å¯èƒ½çš„å‚ç›´å‘ç”Ÿé•·å‹æ…‹ç‚ºï¼Ÿ',
    opts: ['ä½è§’å‹ (Hypodivergent)', 'æ­£å¸¸è§’å‹ (Normodivergent)', 'é«˜è§’å‹ (Hyperdivergent)', 'ç„¡æ³•åˆ¤æ–·'],
    correct: 2,
    exp: 'MMPA > 31Â°ã€FMA > 30Â°ã€LAFH% > 57% å‡æŒ‡å‘é«˜è§’å‹ (hyperdivergent/vertical growth pattern)ï¼Œæç¤ºé•·è‡‰å‚¾å‘ã€é–‹å’¬å‚¾å‘ã€‚è¦æ³¨æ„é«˜è§’å‹æœƒä½¿ä¸‹å·´å¾Œç¸®ï¼Œå½±éŸ¿ AP åˆ¤è®€ã€‚'
  },
  {
    q: 'Skeletal Class II çš„æ‚£è€…ï¼Œä¸‹é¡åˆ‡ç‰™å¸¸è¦‹çš„ä»£å„Ÿæ€§è®ŠåŒ–æ˜¯ï¼Ÿ',
    opts: ['ä¸‹é¡åˆ‡ç‰™å¾Œå‚¾ (retroclined)', 'ä¸‹é¡åˆ‡ç‰™å‰å‚¾ (proclined)', 'ä¸‹é¡åˆ‡ç‰™æ­£å¸¸è§’åº¦', 'ä¸Šé¡åˆ‡ç‰™å‰å‚¾'],
    correct: 1,
    exp: 'Class II æ‚£è€…å› ä¸‹é¡å¾Œç¸®ï¼Œä¸‹é¡åˆ‡ç‰™å¸¸ä»£å„Ÿæ€§å‰å‚¾ (dental compensation)ï¼Œä»¥æ¸›å°‘ overjetã€‚L1-MnPl è§’åº¦æœƒå¤§æ–¼æ­£å¸¸å€¼ (>99Â°)ã€‚'
  },
  {
    q: 'Inter-incisal angle = 150Â°ï¼Œä»£è¡¨ä»€éº¼æƒ…æ³ï¼Ÿ',
    opts: ['åˆ‡ç‰™éåº¦å‰å‚¾', 'åˆ‡ç‰™éåº¦å¾Œå‚¾ï¼Œå¯èƒ½æœ‰æ·±å’¬', 'æ­£å¸¸', 'é–‹å’¬'],
    correct: 1,
    exp: 'Inter-incisal angle æ­£å¸¸ç‚º 135Â° Â± 10Â°ã€‚150Â° > 145Â° ä»£è¡¨ä¸Šä¸‹åˆ‡ç‰™éåº¦å¾Œå‚¾ï¼Œé€šå¸¸èˆ‡æ·±å’¬ (deep bite) ç›¸é—œã€‚'
  },
  {
    q: 'Wits analysis çš„ä¸»è¦å„ªé»æ˜¯ä»€éº¼ï¼Ÿ',
    opts: ['æ›´ç²¾ç¢ºåœ°å®šä½ Sella é»', 'ä¸å— Nasion é»ä½ç½®çš„å½±éŸ¿', 'å¯åŒæ™‚è©•ä¼°å‚ç›´å‘é—œä¿‚', 'å¯è©•ä¼°è»Ÿçµ„ç¹”'],
    correct: 1,
    exp: 'Wits analysis ä½¿ç”¨å’¬åˆå¹³é¢è€Œé Nasion ä½œç‚ºåƒè€ƒï¼Œå› æ­¤ä¸å— N é»å‰å¾Œä½ç½®åç§»çš„å½±éŸ¿ã€‚é€™æ˜¯å° ANB è§’çš„é‡è¦è£œå……å·¥å…·ã€‚'
  },
  {
    q: 'PAS (Posterior Airway Space) = 6mmï¼Œæ‡‰å¦‚ä½•è™•ç½®ï¼Ÿ',
    opts: ['æ­£å¸¸ï¼Œç„¡éœ€ç‰¹åˆ¥è™•ç†', 'å»ºè­°è‡¨åºŠè©•ä¼° OSA é¢¨éšª', 'ç«‹å³æ‰‹è¡“', 'æ”¹å–„å£å‘¼å¸å³å¯'],
    correct: 1,
    exp: 'PAS æ­£å¸¸å€¼ç´„ â‰¥11mmï¼Œ< 8mm ä»£è¡¨æ°£é“æ˜é¡¯ç‹¹çª„ï¼Œéœ€å»ºè­°è‡¨åºŠè©•ä¼°é˜»å¡æ€§ç¡çœ å‘¼å¸ä¸­æ­¢ç—‡ (OSA) çš„é¢¨éšªã€‚'
  },
  {
    q: 'åœ¨åš cephalometric tracing ä¹‹å‰ï¼Œæ”¾å°„ç§‘é†«å¸«é¦–å…ˆæ‡‰è©²åšä»€éº¼ï¼Ÿ',
    opts: ['æ¨™è¨˜ Sella é»', 'ç•« Frankfort plane', 'æª¢æŸ¥å½±åƒæ˜¯å¦æœ‰æ„å¤–çš„ç—…ç†ç™¼ç¾', 'è¨ˆç®— SNA è§’åº¦'],
    correct: 2,
    exp: 'åœ¨åšä»»ä½• tracing ä¹‹å‰ï¼Œå‹™å¿…å…ˆä»”ç´°æª¢æŸ¥å½±åƒæ˜¯å¦æœ‰æ„å¤–ç™¼ç¾çš„ç—…è®Šï¼Œå¦‚è…«ç˜¤ã€å›Šè…«ã€éª¨æŠ˜ã€è¶éç•°å¸¸ç­‰ã€‚é€™æ˜¯æ”¾å°„ç§‘é†«å¸«æœ€é‡è¦çš„è·è²¬ä¹‹ä¸€ã€‚'
  },
  {
    q: 'Frankfort Plane æ˜¯ç”±å“ªå…©å€‹æ¨™è¨˜é»æ‰€æ§‹æˆï¼Ÿ',
    opts: ['Sella â†’ Nasion', 'Porion â†’ Orbitale', 'ANS â†’ PNS', 'Gonion â†’ Menton'],
    correct: 1,
    exp: 'Frankfort Plane (FH) ç”± Porion (å¤–è€³é“ä¸Šæ–¹ä¸­é») å’Œ Orbitale (çœ¶ä¸‹ç·£æœ€å‰ä¸‹æ–¹é») é€£ç·šæ§‹æˆã€‚æ­£å¸¸æ‡‰æ¥è¿‘æ°´å¹³ã€‚'
  },
  {
    q: 'ANB = -3Â°ï¼Œæ­¤æ‚£è€…æœ€å¯èƒ½çš„éª¨éª¼åˆ†é¡æ˜¯ï¼Ÿ',
    opts: ['Class I', 'Class II', 'Class III', 'æ­£å¸¸ç¯„åœ'],
    correct: 2,
    exp: 'ANB < 0Â° ä»£è¡¨ Skeletal Class IIIï¼Œè¡¨ç¤ºä¸‹é¡ç›¸å°æ–¼ä¸Šé¡å‰çªï¼ˆæˆ–ä¸Šé¡å¾Œç¸®ã€æˆ–å…©è€…çš†æœ‰ï¼‰ã€‚æ­£å¸¸å€¼ç‚º 2Â° Â± 2Â°ï¼ˆå³ 0-4Â°ï¼‰ã€‚'
  },
  {
    q: 'æ‚£è€… SNA = 86Â°ã€SNB = 83Â°ã€ANB = 3Â°ï¼Œä½†ä½ è¦ºå¾—æ•¸æ“šä¸å¤ªå°å‹ã€‚æœ€å¯èƒ½çš„åŸå› æ˜¯ï¼Ÿ',
    opts: ['N é»ä½ç½®åå¾Œ', 'N é»ä½ç½®åå‰', 'FH plane å‚¾æ–œ', 'Sella é»è¾¨èªéŒ¯èª¤'],
    correct: 0,
    exp: 'å¦‚æœ N é»è¼ƒæ­£å¸¸ä½ç½®åå¾Œï¼ŒSNA å’Œ SNB æœƒåŒæ™‚åå¤§ã€‚é›–ç„¶ ANB = 3Â° çœ‹ä¼¼æ­£å¸¸ (Class I)ï¼Œä½†å¯¦éš›ä¸Šä¸Šä¸‹é¡å¯èƒ½éƒ½æ˜¯å‰çªçš„ã€‚é€™æ™‚ Wits analysis å’Œ A-NVert ç­‰ä¸ä¾è³´ N çš„æ¸¬é‡ç‰¹åˆ¥é‡è¦ã€‚'
  },
  {
    q: 'Nasolabial angle = 88Â°ï¼Œæç¤ºä»€éº¼ï¼Ÿ',
    opts: ['ä¸Šå”‡å¾Œç¸®', 'ä¸Šå”‡å‰çªæˆ–ä¸Šé¡å‰çª', 'æ­£å¸¸', 'ä¸‹å·´å‰çª'],
    correct: 1,
    exp: 'Nasolabial angle æ­£å¸¸å€¼ç‚º 102Â° Â± 8Â°ã€‚88Â° < 94Â° (lower limit)ï¼Œè§’åº¦éæ–¼éŠ³è§’ï¼Œæç¤ºä¸Šå”‡å‰çªæˆ–ä¸Šé¡å‰çªï¼Œå¸¸è¦‹æ–¼ Class II Division 1 çš„æ‚£è€…ã€‚'
  }
];

let quizQuestions = [];
let quizScore = 0;
let quizTotal = 0;

function shuffleArray(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function newQuiz() {
  quizScore = 0;
  quizTotal = 0;
  document.getElementById('scoreDisplay').textContent = '0 / 0';
  quizQuestions = shuffleArray(quizBank).slice(0, 8);
  renderQuiz();
}

function resetQuiz() {
  quizScore = 0;
  quizTotal = 0;
  document.getElementById('scoreDisplay').textContent = '0 / 0';
  renderQuiz();
}

function renderQuiz() {
  const container = document.getElementById('quizContainer');
  container.innerHTML = '';
  quizQuestions.forEach((q, qi) => {
    const card = document.createElement('div');
    card.className = 'quiz-card';
    card.innerHTML = `
      <div class="quiz-question"><span class="badge badge-cyan" style="margin-right:0.5rem;">Q${qi + 1}</span>${q.q}</div>
      <div class="quiz-options" id="qopts_${qi}">
        ${q.opts.map((opt, oi) => `
          <div class="quiz-option" onclick="checkAnswer(${qi}, ${oi})">${opt}</div>
        `).join('')}
      </div>
      <div class="quiz-explanation" id="qexp_${qi}">${q.exp}</div>
    `;
    container.appendChild(card);
  });
}

function checkAnswer(qi, oi) {
  const opts = document.querySelectorAll(`#qopts_${qi} .quiz-option`);
  const exp = document.getElementById(`qexp_${qi}`);
  const q = quizQuestions[qi];
  
  if (opts[0].classList.contains('disabled')) return;
  
  opts.forEach(o => o.classList.add('disabled'));
  quizTotal++;

  if (oi === q.correct) {
    opts[oi].classList.add('correct');
    exp.classList.add('correct-exp');
    quizScore++;
  } else {
    opts[oi].classList.add('wrong');
    opts[q.correct].classList.add('correct');
    exp.classList.add('wrong-exp');
  }
  
  exp.classList.add('show');
  document.getElementById('scoreDisplay').textContent = `${quizScore} / ${quizTotal}`;
}

// Init quiz on load
newQuiz();

// Set today's date
document.getElementById('ptDate').value = new Date().toISOString().split('T')[0];
</script>
</body>
</html>
